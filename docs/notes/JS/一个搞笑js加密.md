---
title: 一个搞笑js加密
date: 2020-05-24
tags:
  - JS
categories:
  - JS
---

论坛看到一个帖子https://www.52pojie.cn/thread-1117309-1-1.html

提到了一串代码，说是sojson.v4加密，怎么破？



```javascript
['sojson.v4']["\x66\x69\x6c\x74\x65\x72"]["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"](((['sojson.v4']+[])["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"]['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65']['\x61\x70\x70\x6c\x79'](null,"119S105H110O100I111E119e46m111C110x107T101h121l100v111i119I110f32d61n32V102V117O110m99p116t105R111x110M40v101E41D32P123j10P32P32l105w102k32A40e101L46M107T101c121W67F111R100k101G32J61u61s61K32M49U50w51f41P32Z123F10L32w32c32e32C101L46A112t114T101V118x101g110y116K68Y101O102x97a117r108H116i40o41Y10q32k32o125Z10u125K10s119R105w110u100w111G119K46z111w110s99t111t110J116G101M120u116W109Z101b110Z117R32o61i32b102M117W110q99N116m105j111d110U40t101s41B32f123O10p9t101q46s112P114X101x118j101H110v116a68g101S102S97h117Q108Q116N40W41l10k125y32e10Z118P97U114R32d117j97m61r110T97Y118h105l103K97v116e111I114i46G117S115G101Y114D65L103J101h110p116u59L10r105E102D40X117N97c46o105I110C100E101X120X79H102K40M34y72p117y97O106L117p97J110E121L117O110N34l41L60B48f38R38S117n97T46M105R110U100e101Z120q79v102b40R34W105P80H104e111C110t101J34S41T60O48s41l123Z10u108I111P99N97T116y105Q111X110I46S104F114x101O102m61U34L104N116e116D112Z115C58m47F47t97D46Z97G112i112l46C113K113T46Y99i111m109I47T111B47g115P105Y109p112h108P101J46S106m115a112u63G112R107y103l110N97t109W101G61p99N111N109Z46n116X117N120B105H97C111R109F101a110v103T46b97R112I112w34w59k10z125"['\x73\x70\x6c\x69\x74'](/[a-zA-Z]{1,}/))))('sojson.v4');
```

看这乱七八糟的代码，着实给人吓到

帖子下有人给出了回复，说解析后核心代码如下

 

```javascript
window.onkeydown = function(e) {
    if (e.keyCode === 123) {
        e.preventDefault()
    }
}
window.oncontextmenu = function(e) {
    e.preventDefault()
} 
var ua=navigator.userAgent;
if(ua.indexOf("Huajuanyun")<0&&ua.indexOf("iPhone")<0){
    location.href="https://a.app.qq.com/o/simple.jsp?pkgname=com.tuxiaomeng.app";
}
```

要没人回复可能我也就作罢，这答案给出来，着实让人好奇

复制代码至浏览器控制台snippets（随便一个支持js语法高亮ide即可），运行了代码，页面确实跳转了，将代码进行排版

顺便将16进制位转换成可读字母，只需复制到控制台执行即可，如"\x66\x69\x6c\x74\x65\x72"执行完得到"filter"

 

```javascript
// ['sojson.v4']["\x66\x69\x6c\x74\x65\x72"]["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"](((['sojson.v4']+[])["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"]['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65']['\x61\x70\x70\x6c\x79'](null,"119S105H110O100I111E119e46m111C110x107T101h121l100v111i119I110f32d61n32V102V117O110m99p116t105R111x110M40v101E41D32P123j10P32P32l105w102k32A40e101L46M107T101c121W67F111R100k101G32J61u61s61K32M49U50w51f41P32Z123F10L32w32c32e32C101L46A112t114T101V118x101g110y116K68Y101O102x97a117r108H116i40o41Y10q32k32o125Z10u125K10s119R105w110u100w111G119K46z111w110s99t111t110J116G101M120u116W109Z101b110Z117R32o61i32b102M117W110q99N116m105j111d110U40t101s41B32f123O10p9t101q46s112P114X101x118j101H110v116a68g101S102S97h117Q108Q116N40W41l10k125y32e10Z118P97U114R32d117j97m61r110T97Y118h105l103K97v116e111I114i46G117S115G101Y114D65L103J101h110p116u59L10r105E102D40X117N97c46o105I110C100E101X120X79H102K40M34y72p117y97O106L117p97J110E121L117O110N34l41L60B48f38R38S117n97T46M105R110U100e101Z120q79v102b40R34W105P80H104e111C110t101J34S41T60O48s41l123Z10u108I111P99N97T116y105Q111X110I46S104F114x101O102m61U34L104N116e116D112Z115C58m47F47t97D46Z97G112i112l46C113K113T46Y99i111m109I47T111B47g115P105Y109p112h108P101J46S106m115a112u63G112R107y103l110N97t109W101G61p99N111N109Z46n116X117N120B105H97C111R109F101a110v103T46b97R112I112w34w59k10z125"['\x73\x70\x6c\x69\x74'](/[a-zA-Z]{1,}/))))('sojson.v4');
['sojson.v4']
["filter"]
["constructor"]
(
    // 看着核心代码在这
    (
        (
            ['sojson.v4'] + []
        )
        ["constructor"]
        ['fromCharCode']
        ['apply']
        (
            null, 
            "119S105H110O100I111E119e46m111C110x107T101h121l100v111i119I110f32d61n32V102V117O110m99p116t105R111x110M40v101E41D32P123j10P32P32l105w102k32A40e101L46M107T101c121W67F111R100k101G32J61u61s61K32M49U50w51f41P32Z123F10L32w32c32e32C101L46A112t114T101V118x101g110y116K68Y101O102x97a117r108H116i40o41Y10q32k32o125Z10u125K10s119R105w110u100w111G119K46z111w110s99t111t110J116G101M120u116W109Z101b110Z117R32o61i32b102M117W110q99N116m105j111d110U40t101s41B32f123O10p9t101q46s112P114X101x118j101H110v116a68g101S102S97h117Q108Q116N40W41l10k125y32e10Z118P97U114R32d117j97m61r110T97Y118h105l103K97v116e111I114i46G117S115G101Y114D65L103J101h110p116u59L10r105E102D40X117N97c46o105I110C100E101X120X79H102K40M34y72p117y97O106L117p97J110E121L117O110N34l41L60B48f38R38S117n97T46M105R110U100e101Z120q79v102b40R34W105P80H104e111C110t101J34S41T60O48s41l123Z10u108I111P99N97T116y105Q111X110I46S104F114x101O102m61U34L104N116e116D112Z115C58m47F47t97D46Z97G112i112l46C113K113T46Y99i111m109I47T111B47g115P105Y109p112h108P101J46S106m115a112u63G112R107y103l110N97t109W101G61p99N111N109Z46n116X117N120B105H97C111R109F101a110v103T46b97R112I112w34w59k10z125"
            ['split']
            (/[a-zA-Z]{1,}/)
        )
    )
)('sojson.v4');
```

括号内部代码肯定是一整块的，复制到控制台执行

![img](F:\hzmming.github.io\docs\.vuepress\public\img\55861759.png)

就这？？？