<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ECharts使用 | Lazy man</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.b68c3057.css" as="style"><link rel="preload" href="/assets/js/app.32e97e1d.js" as="script"><link rel="preload" href="/assets/js/3.5267404b.js" as="script"><link rel="preload" href="/assets/js/1.bd6596e1.js" as="script"><link rel="preload" href="/assets/js/183.c93cd001.js" as="script"><link rel="prefetch" href="/assets/js/10.4c930c4a.js"><link rel="prefetch" href="/assets/js/100.ca4af783.js"><link rel="prefetch" href="/assets/js/101.621b2356.js"><link rel="prefetch" href="/assets/js/102.c499a410.js"><link rel="prefetch" href="/assets/js/103.45d1a898.js"><link rel="prefetch" href="/assets/js/104.5ecce02e.js"><link rel="prefetch" href="/assets/js/105.155e9ae5.js"><link rel="prefetch" href="/assets/js/106.754a23e0.js"><link rel="prefetch" href="/assets/js/107.31e2e7cd.js"><link rel="prefetch" href="/assets/js/108.67ea6906.js"><link rel="prefetch" href="/assets/js/109.6084dacf.js"><link rel="prefetch" href="/assets/js/11.5040638b.js"><link rel="prefetch" href="/assets/js/110.1ada97d0.js"><link rel="prefetch" href="/assets/js/111.3524f55c.js"><link rel="prefetch" href="/assets/js/112.aa8d3619.js"><link rel="prefetch" href="/assets/js/113.321c644a.js"><link rel="prefetch" href="/assets/js/114.2b654241.js"><link rel="prefetch" href="/assets/js/115.76033a62.js"><link rel="prefetch" href="/assets/js/116.f1963516.js"><link rel="prefetch" href="/assets/js/117.d1b69bf6.js"><link rel="prefetch" href="/assets/js/118.c6b41ebe.js"><link rel="prefetch" href="/assets/js/119.6abe8fa0.js"><link rel="prefetch" href="/assets/js/12.7b1acda3.js"><link rel="prefetch" href="/assets/js/120.b581e601.js"><link rel="prefetch" href="/assets/js/121.a31c51a5.js"><link rel="prefetch" href="/assets/js/122.096e9e8f.js"><link rel="prefetch" href="/assets/js/123.31957597.js"><link rel="prefetch" href="/assets/js/124.61c4f64c.js"><link rel="prefetch" href="/assets/js/125.46c36614.js"><link rel="prefetch" href="/assets/js/126.ffc3e7fd.js"><link rel="prefetch" href="/assets/js/127.5dfecadb.js"><link rel="prefetch" href="/assets/js/128.5ab40409.js"><link rel="prefetch" href="/assets/js/129.6c5ceced.js"><link rel="prefetch" href="/assets/js/13.04eb8ca9.js"><link rel="prefetch" href="/assets/js/130.383b39d0.js"><link rel="prefetch" href="/assets/js/131.e9c17254.js"><link rel="prefetch" href="/assets/js/132.83f2c83b.js"><link rel="prefetch" href="/assets/js/133.3ce56cf1.js"><link rel="prefetch" href="/assets/js/134.fe257a35.js"><link rel="prefetch" href="/assets/js/135.3a5a9e8a.js"><link rel="prefetch" href="/assets/js/136.b5411b1a.js"><link rel="prefetch" href="/assets/js/137.2d87fe56.js"><link rel="prefetch" href="/assets/js/138.5e498bee.js"><link rel="prefetch" href="/assets/js/139.395793fb.js"><link rel="prefetch" href="/assets/js/14.654c4113.js"><link rel="prefetch" href="/assets/js/140.8bba61cc.js"><link rel="prefetch" href="/assets/js/141.41d08685.js"><link rel="prefetch" href="/assets/js/142.541b126e.js"><link rel="prefetch" href="/assets/js/143.0d1eb126.js"><link rel="prefetch" href="/assets/js/144.e4da0c66.js"><link rel="prefetch" href="/assets/js/145.c96c87bc.js"><link rel="prefetch" href="/assets/js/146.be27722d.js"><link rel="prefetch" href="/assets/js/147.522807b6.js"><link rel="prefetch" href="/assets/js/148.7d0e0046.js"><link rel="prefetch" href="/assets/js/149.0a7a3185.js"><link rel="prefetch" href="/assets/js/15.742c26bc.js"><link rel="prefetch" href="/assets/js/150.e9e77250.js"><link rel="prefetch" href="/assets/js/151.6063b229.js"><link rel="prefetch" href="/assets/js/152.ef91112d.js"><link rel="prefetch" href="/assets/js/153.72c2d089.js"><link rel="prefetch" href="/assets/js/154.29bdc585.js"><link rel="prefetch" href="/assets/js/155.0bccf2f7.js"><link rel="prefetch" href="/assets/js/156.387c9bef.js"><link rel="prefetch" href="/assets/js/157.1b9466b6.js"><link rel="prefetch" href="/assets/js/158.29f73e25.js"><link rel="prefetch" href="/assets/js/159.816e7782.js"><link rel="prefetch" href="/assets/js/16.f75e9eb7.js"><link rel="prefetch" href="/assets/js/160.fa3c6bfc.js"><link rel="prefetch" href="/assets/js/161.72c1e923.js"><link rel="prefetch" href="/assets/js/162.d43134f1.js"><link rel="prefetch" href="/assets/js/163.91dfdab4.js"><link rel="prefetch" href="/assets/js/164.e09db02f.js"><link rel="prefetch" href="/assets/js/165.e4c5ee41.js"><link rel="prefetch" href="/assets/js/166.2e893b0a.js"><link rel="prefetch" href="/assets/js/167.7f47acef.js"><link rel="prefetch" href="/assets/js/168.eda96c83.js"><link rel="prefetch" href="/assets/js/169.c09ca90c.js"><link rel="prefetch" href="/assets/js/17.5469ef94.js"><link rel="prefetch" href="/assets/js/170.0831bf46.js"><link rel="prefetch" href="/assets/js/171.ccc678ed.js"><link rel="prefetch" href="/assets/js/172.4bd774a9.js"><link rel="prefetch" href="/assets/js/173.cb2fe292.js"><link rel="prefetch" href="/assets/js/174.6da41404.js"><link rel="prefetch" href="/assets/js/175.aae86efb.js"><link rel="prefetch" href="/assets/js/176.20f4e08c.js"><link rel="prefetch" href="/assets/js/177.171f3de2.js"><link rel="prefetch" href="/assets/js/178.b378d208.js"><link rel="prefetch" href="/assets/js/179.8f1c8be4.js"><link rel="prefetch" href="/assets/js/18.7f433161.js"><link rel="prefetch" href="/assets/js/180.8b83aa08.js"><link rel="prefetch" href="/assets/js/181.665cb570.js"><link rel="prefetch" href="/assets/js/182.90a1c8c4.js"><link rel="prefetch" href="/assets/js/184.c54ed721.js"><link rel="prefetch" href="/assets/js/185.714c3e34.js"><link rel="prefetch" href="/assets/js/186.7babc242.js"><link rel="prefetch" href="/assets/js/187.87fde5b6.js"><link rel="prefetch" href="/assets/js/188.ad94637f.js"><link rel="prefetch" href="/assets/js/189.09b6b30b.js"><link rel="prefetch" href="/assets/js/19.213acec0.js"><link rel="prefetch" href="/assets/js/190.f7fa6ac5.js"><link rel="prefetch" href="/assets/js/191.046c579a.js"><link rel="prefetch" href="/assets/js/192.5f41ea07.js"><link rel="prefetch" href="/assets/js/193.ee73a6fe.js"><link rel="prefetch" href="/assets/js/194.3449945c.js"><link rel="prefetch" href="/assets/js/195.4aca6dde.js"><link rel="prefetch" href="/assets/js/196.e94fe78e.js"><link rel="prefetch" href="/assets/js/197.c2679aec.js"><link rel="prefetch" href="/assets/js/198.35b82e50.js"><link rel="prefetch" href="/assets/js/199.8b2435f2.js"><link rel="prefetch" href="/assets/js/20.4607c17e.js"><link rel="prefetch" href="/assets/js/200.257f2826.js"><link rel="prefetch" href="/assets/js/201.3ff41e7e.js"><link rel="prefetch" href="/assets/js/202.4e297f9a.js"><link rel="prefetch" href="/assets/js/21.a76cfa89.js"><link rel="prefetch" href="/assets/js/22.adf96f86.js"><link rel="prefetch" href="/assets/js/23.865e6398.js"><link rel="prefetch" href="/assets/js/24.f2213fa0.js"><link rel="prefetch" href="/assets/js/25.4c901cc2.js"><link rel="prefetch" href="/assets/js/26.1657f96d.js"><link rel="prefetch" href="/assets/js/27.0e93b73a.js"><link rel="prefetch" href="/assets/js/28.0c043727.js"><link rel="prefetch" href="/assets/js/29.bd6e8b1d.js"><link rel="prefetch" href="/assets/js/30.63af53c7.js"><link rel="prefetch" href="/assets/js/31.144e74bc.js"><link rel="prefetch" href="/assets/js/32.ebe6dee5.js"><link rel="prefetch" href="/assets/js/33.f6c419fd.js"><link rel="prefetch" href="/assets/js/34.810394d8.js"><link rel="prefetch" href="/assets/js/35.64b447d5.js"><link rel="prefetch" href="/assets/js/36.e057054e.js"><link rel="prefetch" href="/assets/js/37.4c76bcf1.js"><link rel="prefetch" href="/assets/js/38.1ff50e60.js"><link rel="prefetch" href="/assets/js/39.18dd2809.js"><link rel="prefetch" href="/assets/js/4.04786932.js"><link rel="prefetch" href="/assets/js/40.f09cc2a2.js"><link rel="prefetch" href="/assets/js/41.66dc5be2.js"><link rel="prefetch" href="/assets/js/42.b8f4b0e7.js"><link rel="prefetch" href="/assets/js/43.3d146bf7.js"><link rel="prefetch" href="/assets/js/44.240b0660.js"><link rel="prefetch" href="/assets/js/45.2332f87c.js"><link rel="prefetch" href="/assets/js/46.931871d8.js"><link rel="prefetch" href="/assets/js/47.833ee81b.js"><link rel="prefetch" href="/assets/js/48.c4b0ce6f.js"><link rel="prefetch" href="/assets/js/49.b12b0150.js"><link rel="prefetch" href="/assets/js/5.d322919b.js"><link rel="prefetch" href="/assets/js/50.faa0c820.js"><link rel="prefetch" href="/assets/js/51.04df0e88.js"><link rel="prefetch" href="/assets/js/52.062f7e16.js"><link rel="prefetch" href="/assets/js/53.c675f9f3.js"><link rel="prefetch" href="/assets/js/54.0a617e55.js"><link rel="prefetch" href="/assets/js/55.b0ec6103.js"><link rel="prefetch" href="/assets/js/56.9ea6c5c7.js"><link rel="prefetch" href="/assets/js/57.958654da.js"><link rel="prefetch" href="/assets/js/58.3166b8fc.js"><link rel="prefetch" href="/assets/js/59.793c0026.js"><link rel="prefetch" href="/assets/js/6.5607a355.js"><link rel="prefetch" href="/assets/js/60.6983698f.js"><link rel="prefetch" href="/assets/js/61.d3529ea1.js"><link rel="prefetch" href="/assets/js/62.314a0d0f.js"><link rel="prefetch" href="/assets/js/63.5b336236.js"><link rel="prefetch" href="/assets/js/64.53540ede.js"><link rel="prefetch" href="/assets/js/65.f974bba7.js"><link rel="prefetch" href="/assets/js/66.88b3f673.js"><link rel="prefetch" href="/assets/js/67.45906526.js"><link rel="prefetch" href="/assets/js/68.57982331.js"><link rel="prefetch" href="/assets/js/69.379d6c6d.js"><link rel="prefetch" href="/assets/js/7.5d7d5b76.js"><link rel="prefetch" href="/assets/js/70.edbf7d9a.js"><link rel="prefetch" href="/assets/js/71.6cd5b9e4.js"><link rel="prefetch" href="/assets/js/72.46921a4e.js"><link rel="prefetch" href="/assets/js/73.59a3e1ce.js"><link rel="prefetch" href="/assets/js/74.d011287a.js"><link rel="prefetch" href="/assets/js/75.67a161bc.js"><link rel="prefetch" href="/assets/js/76.43f12dd2.js"><link rel="prefetch" href="/assets/js/77.99e229cd.js"><link rel="prefetch" href="/assets/js/78.cafecc95.js"><link rel="prefetch" href="/assets/js/79.3fb882ad.js"><link rel="prefetch" href="/assets/js/8.c311345c.js"><link rel="prefetch" href="/assets/js/80.0d7dbf09.js"><link rel="prefetch" href="/assets/js/81.1519bd0e.js"><link rel="prefetch" href="/assets/js/82.4af67acf.js"><link rel="prefetch" href="/assets/js/83.7746da39.js"><link rel="prefetch" href="/assets/js/84.a80c80ef.js"><link rel="prefetch" href="/assets/js/85.1ba0a2c0.js"><link rel="prefetch" href="/assets/js/86.9ea0cf5e.js"><link rel="prefetch" href="/assets/js/87.8bd67bf3.js"><link rel="prefetch" href="/assets/js/88.48fdff82.js"><link rel="prefetch" href="/assets/js/89.d76a12e0.js"><link rel="prefetch" href="/assets/js/9.c5ed272e.js"><link rel="prefetch" href="/assets/js/90.212b66bf.js"><link rel="prefetch" href="/assets/js/91.0f8ace67.js"><link rel="prefetch" href="/assets/js/92.250679f1.js"><link rel="prefetch" href="/assets/js/93.11a09374.js"><link rel="prefetch" href="/assets/js/94.1bb53c61.js"><link rel="prefetch" href="/assets/js/95.c00a2b0c.js"><link rel="prefetch" href="/assets/js/96.73592d7c.js"><link rel="prefetch" href="/assets/js/97.4979ad62.js"><link rel="prefetch" href="/assets/js/98.a6932628.js"><link rel="prefetch" href="/assets/js/99.4e9ca66c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b68c3057.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Lazy man</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>LoryHuang</span>
            
          <span data-v-64685f0e>2017 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Lazy man" class="logo"> <span class="site-name">Lazy man</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/API管理/" class="nav-link"><i class="iconfont undefined"></i>
  API管理
</a></li><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTML/" class="nav-link"><i class="iconfont undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTTP/" class="nav-link"><i class="iconfont undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="iconfont undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/NodeJS/" class="nav-link"><i class="iconfont undefined"></i>
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/chrome/" class="nav-link"><i class="iconfont undefined"></i>
  chrome
</a></li><li class="dropdown-item"><!----> <a href="/categories/ubuntu/" class="nav-link"><i class="iconfont undefined"></i>
  ubuntu
</a></li><li class="dropdown-item"><!----> <a href="/categories/windows/" class="nav-link"><i class="iconfont undefined"></i>
  windows
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/可视化/" class="nav-link"><i class="iconfont undefined"></i>
  可视化
</a></li><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="iconfont undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/文档/" class="nav-link"><i class="iconfont undefined"></i>
  文档
</a></li><li class="dropdown-item"><!----> <a href="/categories/测试/" class="nav-link"><i class="iconfont undefined"></i>
  测试
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本控制/" class="nav-link"><i class="iconfont undefined"></i>
  版本控制
</a></li><li class="dropdown-item"><!----> <a href="/categories/英语/" class="nav-link"><i class="iconfont undefined"></i>
  英语
</a></li><li class="dropdown-item"><!----> <a href="/categories/软件工程/" class="nav-link"><i class="iconfont undefined"></i>
  软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hzmming" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    LoryHuang
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>191</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>37</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/API管理/" class="nav-link"><i class="iconfont undefined"></i>
  API管理
</a></li><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTML/" class="nav-link"><i class="iconfont undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTTP/" class="nav-link"><i class="iconfont undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="iconfont undefined"></i>
  JS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="iconfont undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/NodeJS/" class="nav-link"><i class="iconfont undefined"></i>
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue/" class="nav-link"><i class="iconfont undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/chrome/" class="nav-link"><i class="iconfont undefined"></i>
  chrome
</a></li><li class="dropdown-item"><!----> <a href="/categories/ubuntu/" class="nav-link"><i class="iconfont undefined"></i>
  ubuntu
</a></li><li class="dropdown-item"><!----> <a href="/categories/windows/" class="nav-link"><i class="iconfont undefined"></i>
  windows
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/可视化/" class="nav-link"><i class="iconfont undefined"></i>
  可视化
</a></li><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="iconfont undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/文档/" class="nav-link"><i class="iconfont undefined"></i>
  文档
</a></li><li class="dropdown-item"><!----> <a href="/categories/测试/" class="nav-link"><i class="iconfont undefined"></i>
  测试
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本控制/" class="nav-link"><i class="iconfont undefined"></i>
  版本控制
</a></li><li class="dropdown-item"><!----> <a href="/categories/英语/" class="nav-link"><i class="iconfont undefined"></i>
  英语
</a></li><li class="dropdown-item"><!----> <a href="/categories/软件工程/" class="nav-link"><i class="iconfont undefined"></i>
  软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hzmming" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>可视化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/可视化/ECharts使用.html" class="active sidebar-link">ECharts使用</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>ECharts使用</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>LoryHuang</span>
            
          <span data-v-64685f0e>2017 - </span>
          2020
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>ECharts使用</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>LoryHuang</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2019-09-23</span></i> <!----> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>可视化</span><span class="tag-item" data-v-3b7f5bdf>ECharts</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><p>[TOC]</p> <p><em>ECharts本身<a href="https://www.echartsjs.com/zh/option.html" target="_blank" rel="noopener noreferrer">配置项<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>详细，且自带的<a href="https://www.echartsjs.com/zh/tutorial.html" target="_blank" rel="noopener noreferrer">教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>也挺详细的，所以该笔记只简单的记录下，以自己的视角理解及补充</em>．</p> <p><em>如若想学习ECharts建议先把官方教程过一遍，再看本笔记</em></p> <p><em>( 当前版本：ECharts 4.5.0 )</em></p> <h3 id="概览"><a href="#概览" class="header-anchor">#</a> 概览</h3> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209100858.png" alt=""></p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209100925.png" alt=""></p> <p><img src="/home/loryhuang/.config/Typora/typora-user-images/image-20191209100947530.png" alt="image-20191209100947530"></p> <p><em>( 参考自ECharts官方<a href="https://www.echartsjs.com/zh/builder.html" target="_blank" rel="noopener noreferrer">在线定制<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>页面 )</em></p> <h3 id="个性化样式"><a href="#个性化样式" class="header-anchor">#</a> 个性化样式</h3> <p><em>参考自<a href="https://www.echartsjs.com/zh/tutorial.html#%E4%B8%AA%E6%80%A7%E5%8C%96%E5%9B%BE%E8%A1%A8%E7%9A%84%E6%A0%B7%E5%BC%8F" target="_blank" rel="noopener noreferrer">个性化图表的样式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、[ECharts中样式简介](https://www.echartsjs.com/zh/tutorial.html#ECharts 中的样式简介)</em></p> <p>可以从3个层面设置样式，<code>全局</code>、<code>系列</code>、<code>数据</code></p> <h4 id="全局"><a href="#全局" class="header-anchor">#</a> 全局</h4> <ol><li><p>调色板及背景色和字体样式</p> <p>如果没有额外设置，ECharts默认会从调色板取颜色</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// https://www.echartsjs.com/zh/option.html#color</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 全局调色盘。</span>
    color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#c23531'</span><span class="token punctuation">,</span><span class="token string">'#2f4554'</span><span class="token punctuation">,</span> <span class="token string">'#61a0a8'</span><span class="token punctuation">,</span> <span class="token string">'#d48265'</span><span class="token punctuation">,</span> <span class="token string">'#91c7ae'</span><span class="token punctuation">,</span><span class="token string">'#749f83'</span><span class="token punctuation">,</span>  <span class="token string">'#ca8622'</span><span class="token punctuation">,</span> <span class="token string">'#bda29a'</span><span class="token punctuation">,</span><span class="token string">'#6e7074'</span><span class="token punctuation">,</span> <span class="token string">'#546570'</span><span class="token punctuation">,</span> <span class="token string">'#c4ccd3'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>整个图表的背景色</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// https://www.echartsjs.com/zh/option.html#backgroundColor</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#61a0a8'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>全局的字体样式</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// https://www.echartsjs.com/zh/option.html#textStyle</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
        color<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
        fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>颜色主题</p> <p>ECharts4 开始，除了一贯的默认主题外，新内置了两套主题，分别为 <code>'light'</code> 和 <code>'dark'</code>。可以这么来使用它们</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token comment">// var chart = echarts.init(dom, 'dark');</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其他的主题，没有内置在 ECharts 中，需要自己加载。</p> <p>如果主题保存为 JSON 文件，那么可以自行加载和注册，例如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 假设主题名称是 &quot;vintage&quot;</span>
$<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">'xxx/xxx/vintage.json'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">themeJSON</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    echarts<span class="token punctuation">.</span><span class="token function">registerTheme</span><span class="token punctuation">(</span><span class="token string">'vintage'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>themeJSON<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> <span class="token string">'vintage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果保存为 UMD 格式的 JS 文件，那么支持了自注册，直接引入 JS 文件即可：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// HTML 引入 vintage.js 文件后（假设主题名称是 &quot;vintage&quot;）</span>
<span class="token keyword">var</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> <span class="token string">'vintage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>视觉映射</p> <p>这个看之后的<code>visualMap</code>篇章</p></li></ol> <h4 id="系列"><a href="#系列" class="header-anchor">#</a> 系列</h4> <ol><li><p>调色板</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
        <span class="token comment">// 此系列自己的调色盘。</span>
        color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#dd6b66'</span><span class="token punctuation">,</span><span class="token string">'#759aa0'</span><span class="token punctuation">,</span><span class="token string">'#e69d87'</span><span class="token punctuation">,</span><span class="token string">'#8dc1a9'</span><span class="token punctuation">,</span><span class="token string">'#ea7e53'</span><span class="token punctuation">,</span><span class="token string">'#eedd78'</span><span class="token punctuation">,</span><span class="token string">'#73a373'</span><span class="token punctuation">,</span><span class="token string">'#73b9bc'</span><span class="token punctuation">,</span><span class="token string">'#7289ab'</span><span class="token punctuation">,</span> <span class="token string">'#91ca8c'</span><span class="token punctuation">,</span><span class="token string">'#f49f42'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'pie'</span><span class="token punctuation">,</span>
        <span class="token comment">// 此系列自己的调色盘。</span>
        color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#37A2DA'</span><span class="token punctuation">,</span> <span class="token string">'#32C5E9'</span><span class="token punctuation">,</span> <span class="token string">'#67E0E3'</span><span class="token punctuation">,</span> <span class="token string">'#9FE6B8'</span><span class="token punctuation">,</span> <span class="token string">'#FFDB5C'</span><span class="token punctuation">,</span><span class="token string">'#ff9f7f'</span><span class="token punctuation">,</span> <span class="token string">'#fb7293'</span><span class="token punctuation">,</span> <span class="token string">'#E062AE'</span><span class="token punctuation">,</span> <span class="token string">'#E690D1'</span><span class="token punctuation">,</span> <span class="token string">'#e7bcf3'</span><span class="token punctuation">,</span> <span class="token string">'#9d96f5'</span><span class="token punctuation">,</span> <span class="token string">'#8378EA'</span><span class="token punctuation">,</span> <span class="token string">'#96BFFF'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>样式设置</p> <p>一般来说，ECharts 的各个系列和组件，都遵从相同命名习惯，很多地方可以设置 <a href="https://www.echartsjs.com/zh/option.html#series.itemStyle" target="_blank" rel="noopener noreferrer">itemStyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://www.echartsjs.com/zh/option.html#series-line.lineStyle" target="_blank" rel="noopener noreferrer">lineStyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://www.echartsjs.com/zh/option.html#series-line.areaStyle" target="_blank" rel="noopener noreferrer">areaStyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://www.echartsjs.com/zh/option.html#series.label" target="_blank" rel="noopener noreferrer">label<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 等等。默认情况下，高亮的样式是根据普通样式自动生成的。但是高亮的样式也可以自己定义，主要是通过 <a href="https://www.echartsjs.com/zh/option.html#series-scatter.emphasis" target="_blank" rel="noopener noreferrer">emphasis<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 属性来定制</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'scatter'</span><span class="token punctuation">,</span>

        <span class="token comment">// 普通样式。</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 点的颜色。</span>
            color<span class="token operator">:</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// 标签样式</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            formatter<span class="token operator">:</span> <span class="token string">'This is a normal label.'</span><span class="token punctuation">,</span>
            color<span class="token operator">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// 更多样式设置自行查看配置项文档</span>
        <span class="token comment">// ...</span>

        <span class="token comment">// 高亮样式。</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 高亮时点的颜色。</span>
                color<span class="token operator">:</span> <span class="token string">'blue'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 高亮时标签的文字。</span>
                formatter<span class="token operator">:</span> <span class="token string">'This is a emphasis label.'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ol> <h4 id="数据"><a href="#数据" class="header-anchor">#</a> 数据</h4> <p>ECharts 中的数据项都是既可以只设成数值，也可以设成一个包含有名称、该数据图形的样式配置、标签配置的对象，具体见 <a href="https://www.echartsjs.com/zh/option.html#series-pie.data" target="_blank" rel="noopener noreferrer">data<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 文档</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'数据1'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数据项名称</span>
    name<span class="token operator">:</span> <span class="token string">'数据2'</span><span class="token punctuation">,</span>
    value <span class="token operator">:</span> <span class="token number">56</span><span class="token punctuation">,</span>
    <span class="token comment">//自定义特殊 tooltip，仅对该数据项有效</span>
    tooltip<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//自定义特殊itemStyle，仅对该item有效</span>
    itemStyle<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="设置legend"><a href="#设置legend" class="header-anchor">#</a> 设置legend</h3> <p>以饼图为例</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 默认会取自 series.name 或者 series.encode 的 seriesName 所指定的维度</span>
    <span class="token comment">// 顺序默认按物理位置</span>
    legend<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'访问来源'</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span><span class="token string">'pie'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">335</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'直接访问'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">310</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'邮件营销'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">234</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'联盟广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'视频广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">1548</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'搜索引擎'</span><span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209165917.png" alt=""></p> <p>如果想调整<code>legend</code>的显示顺序呢？</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不存在的seriesName会自动忽略</span>
    legend<span class="token operator">:</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'搜索引擎'</span><span class="token punctuation">,</span> <span class="token string">'视频广告'</span><span class="token punctuation">,</span> <span class="token string">'联盟广告'</span><span class="token punctuation">,</span> <span class="token string">'邮件营销'</span><span class="token punctuation">,</span> <span class="token string">'直接访问'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'访问来源'</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span><span class="token string">'pie'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">335</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'直接访问'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">310</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'邮件营销'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">234</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'联盟广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'视频广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">1548</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'搜索引擎'</span><span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209170752.png" alt=""></p> <p>如果不想显示某个系列呢？</p> <p>没找着关闭系列legend的属性，但可以设置显示部分系列达到相同效果</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 只显示指定系列名称</span>
    legend<span class="token operator">:</span> <span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'搜索引擎'</span><span class="token punctuation">,</span> <span class="token string">'视频广告'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">'访问来源'</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span><span class="token string">'pie'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">335</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'直接访问'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">310</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'邮件营销'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">234</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'联盟广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">135</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'视频广告'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>value<span class="token operator">:</span><span class="token number">1548</span><span class="token punctuation">,</span> name<span class="token operator">:</span><span class="token string">'搜索引擎'</span><span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209170907.png" alt=""></p> <h3 id="tooltip小圆点丢失"><a href="#tooltip小圆点丢失" class="header-anchor">#</a> tooltip小圆点丢失</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
     tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">'item'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 使用formatter会造成前面的小园点丢失，使用params.marker补上</span>
            <span class="token keyword">return</span> params<span class="token punctuation">.</span>marker <span class="token operator">+</span> params<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'：'</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// 此处val取值自己视情况而定</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="拆线图夹层"><a href="#拆线图夹层" class="header-anchor">#</a> 拆线图夹层</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        boundaryGap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 类目轴两边默认会有留白，设为false去掉</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        stack<span class="token operator">:</span> <span class="token string">'堆叠'</span> <span class="token comment">// 设置相同stack达到堆叠效果（https://www.echartsjs.com/examples/zh/editor.html?c=area-stack）</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">620</span><span class="token punctuation">,</span> <span class="token number">732</span><span class="token punctuation">,</span> <span class="token number">701</span><span class="token punctuation">,</span> <span class="token number">734</span><span class="token punctuation">,</span> <span class="token number">1090</span><span class="token punctuation">,</span> <span class="token number">1130</span><span class="token punctuation">,</span> <span class="token number">1120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        stack<span class="token operator">:</span> <span class="token string">'堆叠'</span><span class="token punctuation">,</span>
        areaStyle<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 使用areaStyle表示填充区域颜色（https://www.echartsjs.com/examples/zh/editor.html?c=area-basic）</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209103945.png" alt=""></p> <p>可以看到两条<code>line</code>的颜色及线上的圆点非常多余，并且连线不够光滑，再给它优化下</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 参考自 https://www.echartsjs.com/examples/zh/editor.html?c=confidence-band</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        boundaryGap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 类目轴两边默认会有留白，设为false去掉</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        smooth<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 设为光滑曲线</span>
        symbol<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token comment">// 去除连线上的圆点</span>
        <span class="token comment">// showSymbol设为false好像也行，但如果有tooltip效果，圆点还会显示出来，所以不行</span>
        <span class="token comment">// showSymbol: false,</span>
        lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            opacity<span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 使连线看不到</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        stack<span class="token operator">:</span> <span class="token string">'堆叠'</span> <span class="token comment">// 设置相同stack达到堆叠效果（https://www.echartsjs.com/examples/zh/editor.html?c=area-stack）</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">620</span><span class="token punctuation">,</span> <span class="token number">732</span><span class="token punctuation">,</span> <span class="token number">701</span><span class="token punctuation">,</span> <span class="token number">734</span><span class="token punctuation">,</span> <span class="token number">1090</span><span class="token punctuation">,</span> <span class="token number">1130</span><span class="token punctuation">,</span> <span class="token number">1120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        smooth<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 设为光滑曲线</span>
        stack<span class="token operator">:</span> <span class="token string">'堆叠'</span><span class="token punctuation">,</span>
        symbol<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
        lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            opacity<span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        areaStyle<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 使用areaStyle表示填充区域颜色（https://www.echartsjs.com/examples/zh/editor.html?c=area-basic）</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209111829.png" alt=""></p> <h3 id="饼图标签覆盖"><a href="#饼图标签覆盖" class="header-anchor">#</a> 饼图标签覆盖</h3> <p>当饼图数据项过多时，会造成饼图的label（即各数据项名称）重叠，可能是不知情的情况下配置了<code>avoidLabelOverlap</code>属性，将其设置为<code>true</code>即可解决</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'pie'</span><span class="token punctuation">,</span>
            avoidLabelOverlap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认为true，避免label重叠</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="标签旋转"><a href="#标签旋转" class="header-anchor">#</a> 标签旋转</h3> <p>空间不够时，可以旋转标签来呈现更多标签</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        axisLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
            rotate<span class="token operator">:</span> <span class="token number">45</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="防止直角坐标系标签溢出"><a href="#防止直角坐标系标签溢出" class="header-anchor">#</a> 防止直角坐标系标签溢出</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// https://www.echartsjs.com/zh/option.html#grid.containLabel</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    grid<span class="token operator">:</span> <span class="token punctuation">{</span>
        containLabel<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认为false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="数据更新-合并"><a href="#数据更新-合并" class="header-anchor">#</a> 数据更新（合并）</h3> <p>不管是数据还是配置项，都是通过<a href="https://www.echartsjs.com/zh/api.html#echartsInstance.setOption" target="_blank" rel="noopener noreferrer"><code>setOption</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>调用方式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">,</span> notMerge<span class="token punctuation">,</span> lazyUpdate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    notMerge<span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span>
    lazyUpdate<span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span>
    silent<span class="token operator">:</span> <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p><code>option</code></p> <p>图表的配置项和数据，具体见<a href="https://www.echartsjs.com/zh/option.html" target="_blank" rel="noopener noreferrer">配置项手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></li> <li><p><code>notMerge</code></p> <p>可选，是否不跟之前设置的 <code>option</code> 进行合并，默认为 <code>false</code>，即合并。</p></li> <li><p><code>lazyUpdate</code></p> <p>可选，在设置完 <code>option</code> 后是否不立即更新图表，默认为 <code>false</code>，即立即更新。</p></li> <li><p><code>silent</code></p> <p>可选，阻止调用 <code>setOption</code> 时抛出事件，默认为 <code>false</code>，即抛出事件。</p></li></ul> <p><strong>例</strong>：假设当前有拆线图，如下</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'first'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'line'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'second'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">630</span><span class="token punctuation">,</span> <span class="token number">521</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">920</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1010</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'line'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>如果想要修改第二条拆线图的数据，只需这样</p> <p>**方法一：**物理位置</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">521</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">820</span> <span class="token punctuation">]</span> <span class="token comment">// 只需保证该系列所在的位置一致，echarts会自动合并覆盖</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>**方法二：**唯一标识符（id或name）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'second'</span><span class="token punctuation">,</span> <span class="token comment">// 摆脱物理限制，直接指定系列名称</span>
            <span class="token comment">// 若有指定id，使用id也同样可以</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">190</span><span class="token punctuation">,</span> <span class="token number">324</span><span class="token punctuation">,</span> <span class="token number">521</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">820</span> <span class="token punctuation">]</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="柱状图作背景"><a href="#柱状图作背景" class="header-anchor">#</a> 柱状图作背景</h3> <p>想做出如下效果</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209152311.png" alt=""></p> <p>每根柱子的背后还有个灰色的柱子样式，就好像是空柱子没被完全填满的感觉</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 使用两个系列（即两根柱子），调整其间距</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
            barGap<span class="token operator">:</span><span class="token string">'-100%'</span><span class="token punctuation">,</span> <span class="token comment">// barGap表示bar系列之间的间距，'-100%'即完全重合</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 更完整的配置看官方demo：https://www.echartsjs.com/examples/zh/editor.html?c=bar-gradient</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="渐变色"><a href="#渐变色" class="header-anchor">#</a> 渐变色</h3> <p>早期版本（不建议）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>LinearGradient</span><span class="token punctuation">(</span>
                    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#83bff6'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#188df0'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#188df0'</span><span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>上面这种用法只在官方demo中看得到，配置项或api手册里已经没有相关介绍了，也就是不建议使用了</p> <p>推荐用法</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 随便一个配置颜色的教程均可</span>
<span class="token comment">// https://www.echartsjs.com/zh/option.html#backgroundColor</span>
option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> <span class="token string">'linear'</span><span class="token punctuation">,</span>
                    x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
                    x2<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
                    y2<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token comment">// 定义关键帧</span>
                    colorStops<span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#83bff6'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#188df0'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token operator">:</span> <span class="token string">'#188df0'</span><span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="datazoom"><a href="#datazoom" class="header-anchor">#</a> dataZoom</h3> <p>应用场景：以柱状图为例，若数据项过多，即柱子过多，有限的屏幕根本无法完全显示所有柱子，<code>dataZoom</code>便派上用场</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'bar'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    dataZoom<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 如果什么参数都不指定，默认为slider类型，且控制x轴</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// type: 'slider'</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209163600.png" alt=""></p> <p><code>orient</code>、<code>xAxisIndex</code>、<code>yAxisIndex</code>用于设置该<code>dataZoom</code>控制<code>x轴</code>还是<code>y轴</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    dataZoom<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> orient<span class="token operator">:</span> <span class="token string">'horizontal'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 控制水平x轴（多坐标轴时，默认第一个）</span>
        <span class="token punctuation">{</span> orient<span class="token operator">:</span> <span class="token string">'vertical'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 控制垂直y轴（多坐标轴时，默认第一个）</span>
        <span class="token punctuation">{</span> xAxisIndex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// （多坐标轴时）控制第二个x轴</span>
        <span class="token punctuation">{</span> xAxisIndex<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// （多坐标轴时）同时控制第二个和第三个x轴</span>
        <span class="token punctuation">{</span> yAxisIndex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// （多坐标轴时）控制第二个y轴</span>
        <span class="token punctuation">{</span> yAxisIndex<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token comment">// （多坐标轴时）同时控制第二个和第三个y轴</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>使用<code>type</code>为<code>inside</code>的<code>dataZoom</code>添加图表的<strong>鼠标缩放</strong>、<strong>拖拽</strong>功能</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    dataZoom<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 默认slider类型，表现为外化的可拖拽slider</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// inside类型dataZoom，无界面展示，表现为控制层面，可通过鼠标缩放、拖拽</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'inside'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>默认显示全部区域，可指定显示区域</p> <p>使用<code>start</code>、<code>end</code>指定显示范围的起始百分比</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    dataZoom<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            start<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
            end<span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'inside'</span><span class="token punctuation">,</span> <span class="token comment">// inside和slider的start、end应该设置相同值吧</span>
            start<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
            end<span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>使用<code>startValue</code>、<code>endValue</code>指定显示范围的绝对值，需注意，若设置了<code>start</code>、<code>end</code>则<code>startValue</code>、<code>endValue</code>失效</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    dataZoom<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            startValue<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
            endValue<span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'inside'</span><span class="token punctuation">,</span> <span class="token comment">// inside和slider的start、end应该设置相同值吧</span>
            startValue<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
            endValue<span class="token operator">:</span> <span class="token number">90</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="visualmap"><a href="#visualmap" class="header-anchor">#</a> visualMap</h3> <p><em>参考自<a href="https://www.echartsjs.com/zh/tutorial.html#%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A7%86%E8%A7%89%E6%98%A0%E5%B0%84" target="_blank" rel="noopener noreferrer">数据的视觉映射<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em></p> <p>visualMap 组件定义了把数据的『哪个维度』映射到『什么视觉元素上』</p> <p>以柱状图为例</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'bar'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 默认连续型，但不建议省略，表意不清</span>
        <span class="token comment">// type: 'continuous'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209184051.png" alt=""></p> <p>应该是默认将<code>数据</code>映射到<code>color</code>上（从效果来看，我猜的）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 指明分段型</span>
        type<span class="token operator">:</span> <span class="token string">'piecewise'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191209185538.png" alt=""></p> <p>分段型视觉映射组件（visualMapPiecewise），有三种模式：</p> <ul><li>连续型数据平均分段: 依据 <a href="https://www.echartsjs.com/zh/option.html#visualMap-piecewise.splitNumber" target="_blank" rel="noopener noreferrer">visualMap-piecewise.splitNumber<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来自动平均分割成若干块。</li> <li>连续型数据自定义分段: 依据 <a href="https://www.echartsjs.com/zh/option.html#visualMap-piecewise.pieces" target="_blank" rel="noopener noreferrer">visualMap-piecewise.pieces<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来定义每块范围。</li> <li>离散数据（类别性数据）: 类别定义在 <a href="https://www.echartsjs.com/zh/option.html#visualMap-piecewise.categories" target="_blank" rel="noopener noreferrer">visualMap-piecewise.categories<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中</li></ul> <p><strong>例</strong>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'piecewise'</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 若没有设置，echarts自动设置[min, max] 为 [0, 数据的最大值]</span>
            min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            max<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 默认取最后一个维度</span>
            <span class="token comment">// 此处设置series.data 的第四个维度（即 value[3]）被映射</span>
            dimension<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>      
            
            <span class="token comment">// 对第四个系列进行映射。若同时映射多个系列可使用数组，eg: [3,4]</span>
            seriesIndex<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>   
            
            <span class="token comment">// 选中范围中的视觉配置</span>
            inRange<span class="token operator">:</span> <span class="token punctuation">{</span>          
                color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'#121122'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 定义了图形颜色映射的颜色列表，</span>
                                                    <span class="token comment">// 数据最小值映射到'blue'上，</span>
                                                    <span class="token comment">// 最大值映射到'red'上，</span>
                                                    <span class="token comment">// 其余自动线性计算。</span>
                symbolSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>               <span class="token comment">// 定义了图形尺寸的映射范围，</span>
                                                    <span class="token comment">// 数据最小值映射到30上，</span>
                                                    <span class="token comment">// 最大值映射到100上，</span>
                                                    <span class="token comment">// 其余自动线性计算。</span>
                colorLightness<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 映射到明暗度上。也就是对本来的颜色进行明暗度处理。</span>
                                          <span class="token comment">// 本来的颜色可能是从全局色板中选取的颜色，visualMap组件并不关心。</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            outOfRange<span class="token operator">:</span> <span class="token punctuation">{</span>       <span class="token comment">// 选中范围外的视觉配置</span>
                symbolSize<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="axispointer-坐标指示器"><a href="#axispointer-坐标指示器" class="header-anchor">#</a> axisPointer（坐标指示器）</h3> <p>坐标轴指示器在多轴的场景能起到辅助作用，效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191210164821.png" alt=""></p> <p>有3种开启<code>axisPointer</code>的方法</p> <ul><li>全局axisPointer</li> <li><code>tooltip.axisPointer</code></li> <li>各轴自己的axisPointer（如<code>xAxis.axisPointer</code>、<code>yAxis.axisPointer</code>）</li></ul> <h4 id="全局axispointer"><a href="#全局axispointer" class="header-anchor">#</a> 全局axisPointer</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// type: 'line' // 默认直线指示器，且同时开启x轴、y轴</span>
        <span class="token comment">// type可选值：'line', 'shadow', 'none'，值得注意的是，如果设为shadow，只有x轴会变成阴影指示器，y轴还是正常的line</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="tooltip-axispointer"><a href="#tooltip-axispointer" class="header-anchor">#</a> tooltip.axisPointer</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 直角坐标系下，默认显示x轴指示器</span>
        trigger<span class="token operator">:</span> <span class="token string">'axis'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
        axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
            axis<span class="token operator">:</span> <span class="token string">'y'</span> <span class="token comment">// 设置显示哪个轴，可选值：x，y，radius，angle</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">'axis'</span><span class="token punctuation">,</span>
        axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 设置指示器类型</span>
            type<span class="token operator">:</span> <span class="token string">'cross'</span> <span class="token comment">// cross表示启用两个正交的轴的axisPointer，如x轴，y轴的axisPointer</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="各轴自己的axispointer"><a href="#各轴自己的axispointer" class="header-anchor">#</a> 各轴自己的axisPointer</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 需显示设置打开！</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'shadow'</span> <span class="token comment">// 默认'line'. 可选值：'line', 'shadow', 'none'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        axisPointer<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'shadow'</span> <span class="token comment">// 默认'line'. 可选值：'line', 'none'</span>
            <span class="token comment">// y轴不支持设置shadow类型，若设了，效果和line类型一样</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="geo与series-map-地图"><a href="#geo与series-map-地图" class="header-anchor">#</a> geo与series.map（地图）</h3> <h4 id="geo"><a href="#geo" class="header-anchor">#</a> geo</h4> <ol><li><p>注册地图数据</p> <p><code>echarts</code>官网说是不提供下载地图数据了，但实际上其npm包代码中还是可以找到的</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>├── map
│   ├── js
│   │   ├── china-contour.js
│   │   ├── china.js
│   │   ├── province
│   │   └── world.js
│   └── json
│       ├── china-cities.json
│       ├── china-contour.json
│       ├── china.json
│       ├── province
│       └── world.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>可以看到分为<code>js</code>和<code>json</code>两个文件夹，自己看下<code>js</code>里的内容，其实地图数据本质上<code>json</code>存放就够了，<code>js</code>无非就是多加了一句<strong>注册地图代码</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>echarts<span class="token punctuation">.</span><span class="token function">registerMap</span><span class="token punctuation">(</span><span class="token string">'china'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">/*... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所以引用地图数据js文件时，要保证已导入<code>echarts</code>，不然会报错</p> <p>我们以<code>json</code>文件为例，自己注册</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'./map/json/china.json'</span><span class="token punctuation">)</span>
<span class="token comment">// 注册的地图名称由自己决定，之后会再用到</span>
echarts<span class="token punctuation">.</span><span class="token function">registerMap</span><span class="token punctuation">(</span><span class="token string">'china'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>阿里有提供一个下载地图的<a href="http://datav.aliyun.com/tools/atlas/" target="_blank" rel="noopener noreferrer">网站<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></li> <li><p>渲染</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用之前注册的地图名称</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        <span class="token comment">// zoom: 2.2, // 缩放比例</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启鼠标缩放和拖拽</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认显示地区名称（eg：中国地图是省份，世界地图是国家）</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191210210011.png" alt=""></p></li></ol> <h4 id="series-map"><a href="#series-map" class="header-anchor">#</a> series.map</h4> <p>基本代码</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./echarts.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 此处以js文件为例，其内部自注册为'china' --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./map/json/china.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
        <span class="token comment">// 使用之前注册的地图名称</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        <span class="token comment">// zoom: 2.2, // 缩放比例</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启鼠标缩放和拖拽</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认显示地区名称（eg：中国地图是省份，世界地图是国家）</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191210210702.png" alt=""></p> <h4 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h4> <p>可以看到，<code>geo</code>与<code>series.map</code>都可以画出地图，且配置项又几乎一样，那它们俩的区别是啥呢？</p> <ul><li><p><code>geo</code>是<code>ECharts</code>的一种坐标系，可以在上面画散点图(scatter)或者轨迹图(lines)．</p></li> <li><p><code>series.map</code>是一种图表(ECharts内部用系列series表示)，使用<code>visualMap</code>为地图上色时就要用<code>series.map</code></p></li></ul> <h4 id="同步"><a href="#同步" class="header-anchor">#</a> 同步</h4> <p>有些时候，需要同时使用到<code>geo</code>与<code>series.map</code>，比如一张地图，既要使用<code>visualMap</code>上色，又要在上面绘制<code>scatter</code>散点图．如果<code>geo</code>和<code>series.map</code>都配置了<code>roam</code>属性，也就是都可以缩放、拖拽，会发现一个很严重的问题，就是二者不同步，一次只能拖拽或者缩放一张地图，如下</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211193214.png" alt=""></p> <blockquote><p>默认情况下，map series 会自己生成内部专用的 <code>geo</code> 组件。但是也可以用这个 <code>geoIndex</code> 指定一个 <a href="https://www.echartsjs.com/zh/option.html#geo" target="_blank" rel="noopener noreferrer">geo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件。这样的话，map 和 其他 series（例如散点图）就可以共享一个 <a href="https://www.echartsjs.com/zh/option.html#geo" target="_blank" rel="noopener noreferrer">geo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件了。并且，<a href="https://www.echartsjs.com/zh/option.html#geo" target="_blank" rel="noopener noreferrer">geo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件的颜色也可以被这个 map series 控制，从而用 <a href="https://www.echartsjs.com/zh/option.html#visualMap" target="_blank" rel="noopener noreferrer">visualMap<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来更改。</p> <p>当设定了 <code>geoIndex</code> 后，<a href="https://www.echartsjs.com/zh/option.html#series-map.map" target="_blank" rel="noopener noreferrer">series-map.map<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 属性，以及 <a href="https://www.echartsjs.com/zh/option.html#series-map.itemStyle" target="_blank" rel="noopener noreferrer">series-map.itemStyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 等样式配置不再起作用，而是采用 <a href="https://www.echartsjs.com/zh/option.html#geo" target="_blank" rel="noopener noreferrer">geo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中的相应属性。</p> <p>来源于https://www.echartsjs.com/zh/option.html#series-map.geoIndex</p></blockquote> <p>所以，只要让<code>series.map</code>不生成自己的<code>geo</code>组件，共用同一个<code>geo</code>组件就能解决</p> <p><strong>解决方案</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        geoIndex<span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 核心！！！</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211193754.png" alt=""></p> <h4 id="美化"><a href="#美化" class="header-anchor">#</a> 美化</h4> <p>可以看到默认的样式非常难看，以<code>geo</code>地理坐标系为例</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 整张图的背景色</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#080a20'</span><span class="token punctuation">,</span>

    <span class="token comment">// 标题</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 是否显示</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 文本内容</span>
        text<span class="token operator">:</span> <span class="token string">'轨迹迁移'</span><span class="token punctuation">,</span>
        <span class="token comment">// 距离左边界位置</span>
        left<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token comment">// 距离上边界位置</span>
        top<span class="token operator">:</span> <span class="token string">'20%'</span><span class="token punctuation">,</span>
        <span class="token comment">// 文本样式</span>
        textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 文本颜色</span>
            color<span class="token operator">:</span> <span class="token string">'#fff'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>

        <span class="token comment">// 地图文字样式</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 高亮状态样式（echarts的高亮就是鼠标悬浮状态）</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">//  高亮状态不显示文本</span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 长宽比例，aspectScale = width/height，所以小于1表示长比宽窄，注意，会造成图形变形！</span>
        <span class="token comment">// aspectScale: 0.65,</span>

        <span class="token comment">// zoom: 2.2,</span>

        <span class="token comment">// 不显示地图</span>
        <span class="token comment">// show: false,</span>

        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 开启roam（缩放）的情况下，限制其缩放比例范围</span>
        scaleLimit<span class="token operator">:</span> <span class="token punctuation">{</span>
            min<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
            max<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 地图区域样式（中国地图是省份，世界地图是国家）</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 区域背景色</span>
            areaColor<span class="token operator">:</span> <span class="token string">'#132937'</span><span class="token punctuation">,</span>

            <span class="token comment">// 区域边框色</span>
            borderColor<span class="token operator">:</span> <span class="token string">'#0692a4'</span><span class="token punctuation">,</span>

            <span class="token comment">//  区域高亮状态样式</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#0b1c2d'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211100156.png" alt=""></p> <h3 id="geo与regions"><a href="#geo与regions" class="header-anchor">#</a> geo与regions</h3> <h4 id="部分地区样式定制"><a href="#部分地区样式定制" class="header-anchor">#</a> 部分地区样式定制</h4> <p>想要单独调整某些地区的样式，要怎么办呢？</p> <p>例：在上一节美化后，想再单独把<strong>广东</strong>的<strong>边界高亮</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> regions <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'广东'</span><span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            borderColor<span class="token operator">:</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        regions
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211103117.png" alt=""></p> <h4 id="优先级"><a href="#优先级" class="header-anchor">#</a> 优先级</h4> <p>仔细看我们的图却发现<code>广东</code>与<code>广西</code>接壤的边界线<strong>没有高亮</strong>，这是为什么？</p> <blockquote><p>前置知识：<code>canvas</code>并没有<code>z-index</code>的概念，因为画布中的图形元素对于<code>canvas</code>只是像素点而已，它并不识别画布上一个个图形元素（比如此处的省份），所有<code>canvas框架</code>都为我们封装了<strong>图形元素识别</strong>这一层（无非是利用鼠标点击位置判断是否在图形元素内），所以**<code>canvas</code>的优先级就是后画的图形遮盖先前画的图形**</p></blockquote> <p>此处很明显<code>广西</code>比<code>广东</code>绘画的晚，所以<code>广西</code>盖住了｀广东｀</p> <p>那怎么让要定制样式的省份放到后面渲染呢？</p> <p><strong>写这篇笔记时，还没找到解决方案...</strong></p> <p>我用了个临时方案，修改地图数据<code>china.json</code>，如果<code>ECharts</code>没有提供支持的话，至少它还是按照省份数据的物理位置渲染的（简单的想下，无非就是个for循环）</p> <p><strong>临时方案一：将要定制样式的省份数据挪到最后面</strong></p> <p>可想而知，这个方案有个缺陷，比如有套系统同时有两张地图，一个要高亮广西，一个要高亮广东，二者明显不可兼得，难不成还要再复制一份地图数据出来？</p> <p><strong>临时方案二：在注册地图时调整数据</strong></p> <p>其实无非就是不调整物理数据，而是加工内存中的数据，这样，内存中就可以有多份不一样的地图数据，而只有一份物理数据（这方案和上一个方案无非是五十步和百步的区别...）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 获取中国地图数据</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'../node_modules/echarts/map/json/china.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 需要置底的数据</span>
<span class="token keyword">const</span> stickyBottom <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'广东'</span><span class="token punctuation">]</span>
<span class="token comment">// sort排序的效果：返回负数往前靠，正数往后靠</span>
res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>features <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>features<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> stickyBottom<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
echarts<span class="token punctuation">.</span><span class="token function">registerMap</span><span class="token punctuation">(</span><span class="token string">'china'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211110755.png" alt=""></p> <p>可以看到，广东的整个轮廓都正常地高亮了</p> <h3 id="series-map与visualmap"><a href="#series-map与visualmap" class="header-anchor">#</a> series.map与visualMap</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">'100'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'天津'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'重庆'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'河北'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'河南'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'云南'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'辽宁'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token function">randomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
        <span class="token comment">// 使用之前注册的地图名称</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        <span class="token comment">// zoom: 2.2, // 缩放比例</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启鼠标缩放和拖拽</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 默认显示地区名称（eg：中国地图是省份，世界地图是国家）</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 传入[{name: '北京', value: 30}, {name: 'XX', value: 15}, ...]数据格式</span>
        <span class="token comment">// name需要与地图地区数据名称一致，比如传个'北京市'而地图数据中是'北京'，这条数据就废了</span>
        data
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211093454.png" alt=""></p> <p>可以看到只上色了部分省份，因为传入的<code>data</code>就只有那几个省份，两种情况不会上色</p> <ul><li>其它省份没有数据（比如 <code>{name: '青海', value: 98}</code>）</li> <li>有数据但没有value（比如 <code>{name: '青海'}</code>），记住，<strong>即使没有value值，给value设为0还是会上色的，也就是不要有value这个属性</strong></li></ul> <h3 id="geo与scatter"><a href="#geo与scatter" class="header-anchor">#</a> geo与scatter</h3> <p>实现如下效果</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211152743.png" alt=""></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span>
<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 开启散点图的tooltip</span>
    <span class="token comment">// 说好的series也可以单独设置tooltip呢？试了下反正不起作用</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        trigger<span class="token operator">:</span> <span class="token string">'item'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 默认取value[1]，即第二个值.但散点图结合geo时，前两个值是经纬度，手动取第三个值</span>
            <span class="token comment">// 使用formatter会造成前面的小园点丢失，使用params.marker补上</span>
            <span class="token keyword">return</span> params<span class="token punctuation">.</span>marker <span class="token operator">+</span> params<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'：'</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 按照之前美化的代码</span>
        <span class="token comment">// ...省略</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'scatter'</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">&quot;geo&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定坐标系，一定要设置！！</span>

            <span class="token comment">// 散点大小</span>
            <span class="token comment">// symbolSize: 20,</span>
            <span class="token comment">// 支持回调函数</span>
            <span class="token function-variable function">symbolSize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// val数据结构：[x, y, value]，x和y其实就是经度和纬度，value值才是真实数据</span>
                <span class="token keyword">const</span> tmp <span class="token operator">=</span> <span class="token number">30</span> <span class="token operator">*</span> val<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> tmp <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token operator">?</span> <span class="token number">20</span> <span class="token operator">:</span> tmp <span class="token operator">&gt;</span> <span class="token number">30</span> <span class="token operator">?</span> <span class="token number">30</span> <span class="token operator">:</span> tmp <span class="token comment">// 保证size在[20,30]之间</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 圆点样式</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 透明度．注意：此透明度会作用到label，文本也会变透明而显示不清！暂未找到解决方案</span>
                opacity<span class="token operator">:</span> <span class="token number">0.65</span><span class="token punctuation">,</span>
                <span class="token comment">// ...</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 开启标签显示</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 设置为true表明显示</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

                <span class="token comment">// 文本位置</span>
                position<span class="token operator">:</span> <span class="token string">'top'</span><span class="token punctuation">,</span>

                <span class="token comment">// 定制显示文本内容</span>
                <span class="token function-variable function">formatter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 默认会显示val[1]，显示成纬度了，手动设置成val[2]并加上省份名称</span>
                    <span class="token keyword">return</span> e<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'('</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>value<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">')'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>

                <span class="token comment">// 文本样式</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                    color<span class="token operator">:</span> <span class="token string">&quot;#FFF&quot;</span><span class="token punctuation">,</span>
                    fontSize<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
                    fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数据</span>
<span class="token comment">// 格式要求为 [{&quot;name&quot;:&quot;新疆&quot;,&quot;value&quot;:[87.36,43.45,126323]}, ...]</span>
option<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;新疆&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">87.36</span><span class="token punctuation">,</span><span class="token number">43.45</span><span class="token punctuation">,</span><span class="token number">126323</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">116.413554</span><span class="token punctuation">,</span><span class="token number">39.911013</span><span class="token punctuation">,</span><span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><p>修改symbol类型，可以达到如下效果</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
            symbol<span class="token operator">:</span> <span class="token string">'pin'</span>
            <span class="token comment">// symbol还支持好多类型，见https://www.echartsjs.com/zh/option.html#series-scatter.symbol</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211161038.png" alt=""></p> <p><strong>有一个<code>核心问题</code>：各省市的经纬度坐标从哪里来？</strong></p> <p>见下一节，经纬度数据</p> <h3 id="经纬度数据"><a href="#经纬度数据" class="header-anchor">#</a> 经纬度数据</h3> <p><code>ECharts</code>地图打点，本质上是在指定的<code>经纬度</code>上画<code>scatter</code>，它并不识别这个点是新疆还是北京，只要你给了经纬度，地名爱叫什么随你乐意，所以我们需要有一份各省市经纬度</p> <p><strong>简单点，网上搜下就有了^_^</strong></p> <p>或者自己动手，丰衣足食．<code>ECharts</code>官方npm包实际上有提供</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./map
└── json
    ├── china-cities.json

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>china-cities.json</code>底下有各个地市的数据，打开一看</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/1576050987.png" alt=""></p> <p>将所有<code>cp</code>取出来，就可以了</p> <p>如果是世界地图打点，<code>ECharts</code>官方还真没提供了，自行搜各国经纬度就行</p> <h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h4> <p>个人觉得经纬度这份数据完全可以存进数据库，前端打点只要经纬度而已，而如果前端存储经纬度数据，后端给地名前端自己获取的话，容易出现地名对不上的问题．比如后端返回<code>合肥市</code>，而前端数据是<code>合肥</code>，这就对不上了．这还只是比较简单的情况，再比如，后端返回数据叫<code>大理白族自治州</code>，而前端是<code>大理</code>，这又对不上了...</p> <p>如果非要前端处理经纬度，那必须约定好名称，不要一会叫<code>大理白族自治州</code>，一会叫<code>大理</code>，很不专业欸</p> <h3 id="geo与lines"><a href="#geo与lines" class="header-anchor">#</a> geo与lines</h3> <p><em>（参考自https://www.echartsjs.com/examples/en/editor.html?c=geo-lines）</em></p> <p>实现如下效果</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211162529.png" alt=""></p> <h4 id="第一步-画出背景"><a href="#第一步-画出背景" class="header-anchor">#</a> 第一步，画出背景</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#404a59'</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#323c48'</span><span class="token punctuation">,</span>
                borderColor<span class="token operator">:</span> <span class="token string">'#404a59'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#2a333d'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211163143.png" alt=""></p> <h4 id="第二步-画出轨迹的终止点"><a href="#第二步-画出轨迹的终止点" class="header-anchor">#</a> 第二步，画出轨迹的终止点</h4> <p>假设数据为</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> simulateData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'大连'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">70</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'包头'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'常州'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>所有城市经纬度如下</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> geoCoordMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'上海'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.4648</span><span class="token punctuation">,</span><span class="token number">31.2891</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'东莞'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.8953</span><span class="token punctuation">,</span><span class="token number">22.901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'东营'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.7073</span><span class="token punctuation">,</span><span class="token number">37.5513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'中山'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.4229</span><span class="token punctuation">,</span><span class="token number">22.478</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'临汾'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.4783</span><span class="token punctuation">,</span><span class="token number">36.1615</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'临沂'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.3118</span><span class="token punctuation">,</span><span class="token number">35.2936</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'丹东'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.541</span><span class="token punctuation">,</span><span class="token number">40.4242</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ...省略</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>获取结束点数据，并加工成所需数据格式</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 所需数据格式：[ { name: '地名',  value: ['经度', '纬度', '数据值'] } ]</span>
<span class="token keyword">const</span> endPoints <span class="token operator">=</span> simulateData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> item<span class="token punctuation">.</span>end<span class="token punctuation">,</span>
        value<span class="token operator">:</span> geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>end<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>添加series系列</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 轨迹结束点</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'effectScatter'</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">'geo'</span><span class="token punctuation">,</span>
            <span class="token comment">// 涟漪特效相关配置（https://www.echartsjs.com/zh/option.html#series-effectScatter.rippleEffect）</span>
            rippleEffect<span class="token operator">:</span> <span class="token punctuation">{</span>
                brushType<span class="token operator">:</span> <span class="token string">'stroke'</span> <span class="token comment">// 波纹的绘制方式，可选 'stroke' 和 'fill'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 显示地名</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    position<span class="token operator">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
                    formatter<span class="token operator">:</span> <span class="token string">'{b}'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 调整scatter点的大小</span>
            <span class="token function-variable function">symbolSize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> val<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> endPoints
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211170315.png" alt=""></p> <h4 id="第三步-绘制飞机轨迹"><a href="#第三步-绘制飞机轨迹" class="header-anchor">#</a> 第三步，绘制飞机轨迹</h4> <p>获取连线数据</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> lines <span class="token operator">=</span> simulateData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        coords<span class="token operator">:</span> <span class="token punctuation">[</span>geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span> geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>end<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>添加series</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 飞机轨迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
                <span class="token comment">// 连线曲度，不设置的话就是直线，不好看</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211183127.png" alt=""></p> <p>添加运动的点（开启动效）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 飞机轨迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 不懂这里为什么要这样设置</span>
            zlevel<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 开启动效</span>
            effect<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 动画时间，单位秒</span>
                period<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token comment">// 这个特效尾迹会随着symbolSize调整大小，特别的丑，所以不要这个，待会另起个lines用来显示尾迹</span>
                trailLength<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                symbolSize<span class="token operator">:</span> <span class="token number">15</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
                <span class="token comment">// 连线曲度，不设置的话就是直线，不好看</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211183734.png" alt=""></p> <p>将圆点更换为飞机模型</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> planePath <span class="token operator">=</span> <span class="token string">'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z'</span><span class="token punctuation">;</span>

option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 飞机轨迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 不懂这里为什么要这样设置</span>
            zlevel<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 开启动效</span>
            effect<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 动画时间，单位秒</span>
                period<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token comment">// 这个特效尾迹会随着symbolSize调整大小，特别的丑，所以不要这个，待会另起个lines用来显示尾迹</span>
                trailLength<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                symbol<span class="token operator">:</span> planePath<span class="token punctuation">,</span> <span class="token comment">// 指定为飞机模型</span>
                symbolSize<span class="token operator">:</span> <span class="token number">15</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
                <span class="token comment">// 连线曲度，不设置的话就是直线，不好看</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211184206.png" alt=""></p> <h4 id="第四步-添加炫光尾迹"><a href="#第四步-添加炫光尾迹" class="header-anchor">#</a> 第四步，添加炫光尾迹</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 炫光尾迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>

            <span class="token comment">// 这个一定要设，不设的话尾迹效果不对．我也不懂～～</span>
            zlevel<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

            effect<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

                <span class="token comment">// 动效周期和飞机轨迹保持一致</span>
                period<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>

                <span class="token comment">// 数值越大，尾迹越长</span>
                trailLength<span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span>

                <span class="token comment">// 尾迹颜色</span>
                color<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>

                <span class="token comment">// 这个大小就够了</span>
                symbolSize<span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>先单独看下其效果</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211191014.png" alt=""></p> <p>结合起来，最终效果</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211191121.png" alt=""></p> <h4 id="完整代码"><a href="#完整代码" class="header-anchor">#</a> 完整代码</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> geoCoordMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'上海'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">121.4648</span><span class="token punctuation">,</span><span class="token number">31.2891</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'东莞'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.8953</span><span class="token punctuation">,</span><span class="token number">22.901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'东营'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.7073</span><span class="token punctuation">,</span><span class="token number">37.5513</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'中山'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">113.4229</span><span class="token punctuation">,</span><span class="token number">22.478</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'临汾'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">111.4783</span><span class="token punctuation">,</span><span class="token number">36.1615</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'临沂'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.3118</span><span class="token punctuation">,</span><span class="token number">35.2936</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'丹东'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">124.541</span><span class="token punctuation">,</span><span class="token number">40.4242</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ...省略</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> simulateData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">95</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'大连'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">70</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'包头'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>start<span class="token operator">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> end<span class="token operator">:</span><span class="token string">'常州'</span><span class="token punctuation">,</span> value<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> endPoints <span class="token operator">=</span> simulateData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        name<span class="token operator">:</span> item<span class="token punctuation">.</span>end<span class="token punctuation">,</span>
        value<span class="token operator">:</span> geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>end<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> lines <span class="token operator">=</span> simulateData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        coords<span class="token operator">:</span> <span class="token punctuation">[</span>geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span> geoCoordMap<span class="token punctuation">[</span>item<span class="token punctuation">.</span>end<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> planePath <span class="token operator">=</span> <span class="token string">'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#404a59'</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#323c48'</span><span class="token punctuation">,</span>
                borderColor<span class="token operator">:</span> <span class="token string">'#404a59'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#2a333d'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 轨迹结束点</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'effectScatter'</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">'geo'</span><span class="token punctuation">,</span>
            <span class="token comment">// 涟漪特效相关配置（https://www.echartsjs.com/zh/option.html#series-effectScatter.rippleEffect）</span>
            rippleEffect<span class="token operator">:</span> <span class="token punctuation">{</span>
                brushType<span class="token operator">:</span> <span class="token string">'stroke'</span> <span class="token comment">// 波纹的绘制方式，可选 'stroke' 和 'fill'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 显示地名</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    position<span class="token operator">:</span> <span class="token string">'right'</span><span class="token punctuation">,</span>
                    formatter<span class="token operator">:</span> <span class="token string">'{b}'</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// 调整scatter点的大小</span>
            <span class="token function-variable function">symbolSize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> val<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> endPoints
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 飞机轨迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>

            <span class="token comment">// 不懂这里为什么要这样设置</span>
            zlevel<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>

            <span class="token comment">// 开启动效</span>
            effect<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 动画时间，单位秒</span>
                period<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token comment">// 这个特效尾迹会随着symbolSize调整大小，特别的丑，所以不要这个，待会另起个lines用来显示尾迹</span>
                trailLength<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                symbol<span class="token operator">:</span> planePath<span class="token punctuation">,</span> <span class="token comment">// 指定为飞机模型</span>
                symbolSize<span class="token operator">:</span> <span class="token number">15</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
                <span class="token comment">// 连线曲度，不设置的话就是直线，不好看</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 炫光尾迹</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'lines'</span><span class="token punctuation">,</span>

            <span class="token comment">// 这个一定要设，不设的话尾迹效果不对．我也不懂～～</span>
            zlevel<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

            effect<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

                <span class="token comment">// 动效周期和飞机轨迹保持一致</span>
                period<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>

                <span class="token comment">// 数值越大，尾迹越长</span>
                trailLength<span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span>

                <span class="token comment">// 尾迹颜色</span>
                color<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>

                <span class="token comment">// 这个大小就够了</span>
                symbolSize<span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#a6c84c'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                curveness<span class="token operator">:</span> <span class="token number">0.2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> lines
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br></div></div><h3 id="geo与热力图"><a href="#geo与热力图" class="header-anchor">#</a> geo与热力图</h3> <p>老套路，先画背景</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#080a20'</span><span class="token punctuation">,</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        map<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                show<span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            areaColor<span class="token operator">:</span> <span class="token string">'#132937'</span><span class="token punctuation">,</span>
            borderColor<span class="token operator">:</span> <span class="token string">'#0692a4'</span><span class="token punctuation">,</span>
            emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                areaColor<span class="token operator">:</span> <span class="token string">'#0b1c2d'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211194440.png" alt=""></p> <p>添加热力图，有一点注意下，<strong><code>heatMap</code>必须与<code>visualMap</code>搭配使用！</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// simulate data</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">87.36</span><span class="token punctuation">,</span><span class="token number">43.45</span><span class="token punctuation">,</span><span class="token number">140</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">116.413554</span><span class="token punctuation">,</span><span class="token number">39.911013</span><span class="token punctuation">,</span><span class="token number">278</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">121.480237</span><span class="token punctuation">,</span><span class="token number">31.236305</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">113.14</span><span class="token punctuation">,</span><span class="token number">23.08</span><span class="token punctuation">,</span><span class="token number">323</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>

option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 好像不支持tooltip</span>
    <span class="token comment">// tooltip: {},</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span>
        show<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">'geo'</span><span class="token punctuation">,</span> <span class="token comment">// 不设置的话会报错！</span>
            data
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211201456.png" alt=""></p> <blockquote><p>个人觉得，如果数据量少的话，热力图完全没有发挥作用，和散点图无异</p></blockquote> <p>同样可以定制样式</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 修改颜色只能通过visualMap！！</span>
    visualMap<span class="token operator">:</span> <span class="token punctuation">{</span>
        show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        inRange<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#ffff00'</span><span class="token punctuation">,</span> <span class="token string">'#ff00ff'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'heatmap'</span><span class="token punctuation">,</span>
            coordinateSystem<span class="token operator">:</span> <span class="token string">'geo'</span><span class="token punctuation">,</span> <span class="token comment">// 不设置的话会报错！</span>
            data<span class="token punctuation">,</span>
            pointSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">// 点大小</span>
            blurSize<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token comment">// ... 更多调整自己看官网配置项</span>
            
            <span class="token comment">// 注意：itemStyle在这无效了！受控于visualMap</span>
            <span class="token comment">// itemStyle: {</span>
            <span class="token comment">// color: 'blue'</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191211203007.png" alt=""></p> <h3 id="geo与namemap"><a href="#geo与namemap" class="header-anchor">#</a> geo与namemap</h3> <p>使用<code>ECharts</code>提供的<code>world.json</code>绘制的世界地图，会发现各个国家名都是英文的...</p> <p>使用<code>namemap</code>作映射解决</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    geo<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 自定义地区的名称映射，如：</span>
        <span class="token punctuation">{</span>
            <span class="token string">'China'</span> <span class="token operator">:</span> <span class="token string">'中国'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>早期版本的<code>ECharts</code>，如果使用<code>namemap</code>，会造成<code>geo.regions</code>个性化地区时失效，无论是使用英文名还是映射后的中文名都匹配不上，解决方案：更新至最新版即可</p></blockquote> <h3 id="graph关系图"><a href="#graph关系图" class="header-anchor">#</a> graph关系图</h3> <p><code>echarts</code>支持<code>无布局</code>和<code>自动布局</code>两种关系图</p> <ul><li><strong>无布局</strong>：需提供精确的坐标（x，y）［不提供甚至会报错！！］</li> <li><strong>自动布局</strong>：无需提供坐标，echarts自动布局．目前支持：力导向图(<code>force</code>)、环形布局(<code>circular</code>)</li></ul> <h4 id="无布局"><a href="#无布局" class="header-anchor">#</a> 无布局</h4> <p><em>（样式参考自<a href="https://www.echartsjs.com/examples/zh/editor.html?c=graph" target="_blank" rel="noopener noreferrer">官方demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）</em></p> <h5 id="基本"><a href="#基本" class="header-anchor">#</a> 基本</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// mock数据，坐标是我随便设置的</span>
graph<span class="token punctuation">.</span>nodes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘备'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'关羽'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'张飞'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘禅'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
graph<span class="token punctuation">.</span>edges <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'二弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'三弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'儿子'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'父亲'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'graph'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> graph<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>
        links<span class="token operator">:</span> graph<span class="token punctuation">.</span>edges
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230151632.png" alt=""></p> <h5 id="美化-2"><a href="#美化-2" class="header-anchor">#</a> 美化</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'graph'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> graph<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>
        links<span class="token operator">:</span> graph<span class="token punctuation">.</span>edges<span class="token punctuation">,</span>
        <span class="token comment">// 开启拖拽缩放</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置默认缩放比例</span>
        zoom<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">,</span>
        <span class="token comment">// 限定缩放比例</span>
        scaleLimit<span class="token operator">:</span> <span class="token punctuation">{</span>
            min<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
            max<span class="token operator">:</span> <span class="token number">1.5</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 节点大小</span>
        symbolSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token comment">// 节点样式</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            borderColor<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
            borderWidth<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            shadowBlur<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            shadowColor<span class="token operator">:</span> <span class="token string">'rgba(0,0,0,0.3)'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置连线箭头（分别对应起点和终点）</span>
        edgeSymbol<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token string">'arrow'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 连线样式</span>
        lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token comment">// 此处有两个关键字文档没介绍：source与target．表示连线颜色取自source节点或target节点</span>
            curveness<span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">// 曲度</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 悬浮样式</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 悬浮状态下连线样式</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                width<span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">// 粗细</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230155312.png" alt=""></p> <h5 id="节点默认显示文本"><a href="#节点默认显示文本" class="header-anchor">#</a> 节点默认显示文本</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 省略</span>

    label<span class="token operator">:</span> <span class="token punctuation">{</span>
        normal<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 默认不显示，设置为显示</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            position<span class="token operator">:</span> <span class="token string">'right'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230155141.png" alt=""></p> <h5 id="边默认显示文本"><a href="#边默认显示文本" class="header-anchor">#</a> 边默认显示文本</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 省略</span>

    edgeLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 默认不显示，设置为显示</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230162318.png" alt=""></p> <p><code>echarts</code>边的文本默认为<code>源节点id &gt; 目标节点id</code>，很明显不是我们想要的，使用<code>formatter</code>解决</p> <p>同时也可以看出，<code>name</code>属性不作为边节点的名称来源</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 省略</span>

    edgeLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 默认不显示，设置为显示</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function">formatter</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230162538.png" alt=""></p> <h5 id="使用focusnodeadjacency"><a href="#使用focusnodeadjacency" class="header-anchor">#</a> 使用focusNodeAdjacency</h5> <p>在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 省略</span>
    
    focusNodeAdjacency<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>将鼠标悬浮至节点<code>张飞</code>上，效果如下</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230163152.png" alt=""></p> <h5 id="分组归类"><a href="#分组归类" class="header-anchor">#</a> 分组归类</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/* 只作示意 */</span>

<span class="token comment">// 0. 初始几个类目</span>
<span class="token keyword">const</span> categories <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    categories<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'类目'</span> <span class="token operator">+</span> i
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

graph<span class="token punctuation">.</span>nodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 设置节点所属类目index</span>
    node<span class="token punctuation">.</span>category <span class="token operator">=</span> index
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... 省略</span>

    <span class="token comment">// 2. 传入所有类目</span>
    categories<span class="token operator">:</span> categories
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230163912.png" alt=""></p> <h5 id="添加事件"><a href="#添加事件" class="header-anchor">#</a> 添加事件</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>graphChart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>dataType <span class="token operator">===</span> <span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'cardNo: '</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>dataType <span class="token operator">===</span> <span class="token string">'edge'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我是边啦'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="监测缩放事件"><a href="#监测缩放事件" class="header-anchor">#</a> 监测缩放事件</h5> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 监听事件'graphroam'，'graphRoam'均可</span>
graphChart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'graphroam'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
        seriesId: &quot;series00&quot;,
        type: &quot;graphroam&quot;,
        zoom: 1.1,
        originX: 724,
        originY: 300,
    }
    */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="js触发缩放"><a href="#js触发缩放" class="header-anchor">#</a> js触发缩放</h5> <p>见**<code>dispatchAction与缩放</code>**那节</p> <h5 id="完整代码-2"><a href="#完整代码-2" class="header-anchor">#</a> 完整代码</h5> <p>至此为此，完整代码如下（vue版本）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> echarts <span class="token keyword">from</span> <span class="token string">'echarts'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> categories <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    categories<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">'类目'</span> <span class="token operator">+</span> i
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">mock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    graph<span class="token punctuation">.</span>nodes <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘备'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'关羽'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'张飞'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘禅'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">,</span> x<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
    graph<span class="token punctuation">.</span>edges <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'二弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'三弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'儿子'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'父亲'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
    graph<span class="token punctuation">.</span>nodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>category <span class="token operator">=</span> index
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> graph
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;echartsGraph&quot;</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> graph <span class="token operator">=</span> <span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> graphChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>graph<span class="token punctuation">)</span> <span class="token comment">// dom容器</span>
        <span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
            series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                type<span class="token operator">:</span> <span class="token string">'graph'</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> graph<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>
                links<span class="token operator">:</span> graph<span class="token punctuation">.</span>edges<span class="token punctuation">,</span>
                <span class="token comment">// 开启拖拽缩放</span>
                roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 设置默认缩放比例</span>
                zoom<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">,</span>
                <span class="token comment">// 限定缩放比例</span>
                scaleLimit<span class="token operator">:</span> <span class="token punctuation">{</span>
                    min<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
                    max<span class="token operator">:</span> <span class="token number">1.5</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// 节点文本</span>
                label<span class="token operator">:</span> <span class="token punctuation">{</span>
                    normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 默认不显示，设置为显示</span>
                        show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        position<span class="token operator">:</span> <span class="token string">'right'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// 节点大小</span>
                symbolSize<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                <span class="token comment">// 节点样式</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                    borderColor<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
                    borderWidth<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    shadowBlur<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                    shadowColor<span class="token operator">:</span> <span class="token string">'rgba(0,0,0,0.3)'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// 设置连线箭头（分别对应起点和终点）</span>
                edgeSymbol<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token string">'arrow'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                edgeLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 默认不显示，设置为显示</span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token function">formatter</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// 连线样式</span>
                lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                    color<span class="token operator">:</span> <span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token comment">// 此处有两个关键字文档没介绍：source与target．表示连线颜色取自source节点或target节点</span>
                    curveness<span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">// 曲度</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// 悬浮样式</span>
                emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 悬浮状态下连线样式</span>
                    lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                        width<span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">// 粗细</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                focusNodeAdjacency<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">// 分类</span>
                categories<span class="token operator">:</span> categories
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        graphChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span>
        graphChart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>dataType <span class="token operator">===</span> <span class="token string">'node'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'cardNo: '</span> <span class="token operator">+</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>dataType <span class="token operator">===</span> <span class="token string">'edge'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'我是边啦'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        graphChart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'graphroam'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br></div></div><h4 id="力导向图"><a href="#力导向图" class="header-anchor">#</a> 力导向图</h4> <p>基于上一个demo，代码如下</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">mock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    graph<span class="token punctuation">.</span>nodes <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token comment">// 力导向不需要设置坐标（即使设了也没用，但所有节点都设又好像起作用了...）</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘备'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'关羽'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'张飞'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'刘禅'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
    graph<span class="token punctuation">.</span>edges <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'二弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'002'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'三弟'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'003'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'儿子'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'父亲'</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token string">'004'</span><span class="token punctuation">,</span> target<span class="token operator">:</span> <span class="token string">'001'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
    <span class="token keyword">return</span> graph
<span class="token punctuation">}</span>

<span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'graph'</span><span class="token punctuation">,</span>
        layout<span class="token operator">:</span> <span class="token string">'force'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> graph<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>
        links<span class="token operator">:</span> graph<span class="token punctuation">.</span>edges<span class="token punctuation">,</span>
        <span class="token comment">// 开启拖拽缩放</span>
        roam<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置默认缩放比例</span>
        zoom<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token comment">// 限定缩放比例</span>
        <span class="token comment">// scaleLimit: {</span>
        <span class="token comment">//     min: 0.8,</span>
        <span class="token comment">//     max: 1.5</span>
        <span class="token comment">// },</span>
        <span class="token comment">// 节点文本</span>
        label<span class="token operator">:</span> <span class="token punctuation">{</span>
            normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 默认不显示，设置为显示</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                position<span class="token operator">:</span> <span class="token string">'right'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 节点大小</span>
        <span class="token comment">// symbolSize: 30,</span>
        <span class="token comment">// 节点样式</span>
        itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            borderColor<span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
            borderWidth<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            shadowBlur<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            shadowColor<span class="token operator">:</span> <span class="token string">'rgba(0,0,0,0.3)'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 设置连线箭头（分别对应起点和终点）</span>
        edgeSymbol<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token string">'arrow'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        edgeLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 默认不显示，设置为显示</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token function">formatter</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> params<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 连线样式</span>
        lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
            color<span class="token operator">:</span> <span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token comment">// 此处有两个关键字文档没介绍：source与target．表示连线颜色取自source节点或target节点</span>
            curveness<span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token comment">// 曲度</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 悬浮样式</span>
        emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 悬浮状态下连线样式</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                width<span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">// 粗细</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        focusNodeAdjacency<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 分类</span>
        categories<span class="token operator">:</span> categories<span class="token punctuation">,</span>
        force<span class="token operator">:</span> <span class="token punctuation">{</span>
            repulsion<span class="token operator">:</span> <span class="token number">350</span><span class="token punctuation">,</span> <span class="token comment">// 排斥力</span>
            edgeLength<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 边长度</span>
            gravity<span class="token operator">:</span> <span class="token number">0.2</span> <span class="token comment">// 重力（向心力应该更贴切点，值越大，越靠中心）</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191230170655.png" alt=""></p> <h3 id="dispatchaction与缩放"><a href="#dispatchaction与缩放" class="header-anchor">#</a> dispatchAction与缩放</h3> <h4 id="地图缩放"><a href="#地图缩放" class="header-anchor">#</a> 地图缩放</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>geoChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
type<span class="token operator">:</span> <span class="token string">'geoRoam'</span><span class="token punctuation">,</span> <span class="token comment">// 注意，是驼峰法</span>
    zoom<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">,</span>
    <span class="token comment">// originX与originY必须给，否则会出问题</span>
    originX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
    originY<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>官方文档并没有关于<code>geoRoam</code>的介绍，再加上<code>originX</code>与<code>originY</code>这两个属性，一种浓浓的<code>hack</code>感，可见这个属性确实还没整好，暂不对外开放</p> <h4 id="关系图缩放"><a href="#关系图缩放" class="header-anchor">#</a> 关系图缩放</h4> <p>根据<code>github</code>上的<code>issue</code>以及分析源码，按理来说，应该支持如下触发缩放</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>graphChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
type<span class="token operator">:</span> <span class="token string">'graphRoam'</span><span class="token punctuation">,</span> <span class="token comment">// 注意，是驼峰法</span>
    zoom<span class="token operator">:</span> <span class="token number">1.1</span><span class="token punctuation">,</span>
    originX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    originY<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>然而，<strong>并不支持！！！</strong></p> <p>明明地图的<code>geoRoam</code>是支持的，到这却不行也是无语...<code>github</code>上有相同问题的<code>issue</code>，都没解决~_~</p> <blockquote><p>2019年12月31日</p> <p>跟了下源码，简要地记录下发现，主要是围绕两个问题</p> <ol><li>为什么<code>geoRoam</code>可以，<code>graphRoam</code>不行</li> <li>既然<code>dispatchAction({type: graphRoam})</code>不行，那为什么鼠标缩放还会内部触发<code>dispatchAction</code>？而且既然<code>dispatchAction</code>不起作用，那又是哪句代码起的缩放作用？</li></ol> <p>第1个问题：<code>geo</code>注册<code>action</code>时，其<code>update</code>方法为<code>updateTransform</code>，所以正常．而<code>graph</code>注册的<code>update</code>为<code>none</code>，所以才没有达到预期效果</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 地图</span>
<span class="token comment">// node_modules/echarts/lib/action/geoRoam.js</span>
echarts<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'geoRoam'</span><span class="token punctuation">,</span>
    event<span class="token operator">:</span> <span class="token string">'geoRoam'</span><span class="token punctuation">,</span>
    update<span class="token operator">:</span> <span class="token string">'updateTransform'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">payload<span class="token punctuation">,</span> ecModel</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 关系图</span>
<span class="token comment">// node_modules/echarts/lib/chart/graph/graphAction.js</span>
<span class="token keyword">var</span> actionInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'graphRoam'</span><span class="token punctuation">,</span>
    event<span class="token operator">:</span> <span class="token string">'graphRoam'</span><span class="token punctuation">,</span>
    update<span class="token operator">:</span> <span class="token string">'none'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>已经在<code>github</code>上提<a href="https://github.com/apache/incubator-echarts/issues/11962" target="_blank" rel="noopener noreferrer">issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>了，等待回应．</p> <p>第2个问题：鼠标之所以还能正常缩放关系图，主要是<code>updateViewOnZoom</code>起作用</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// node_modules/echarts/lib/chart/graph/GraphView.js</span>
<span class="token function-variable function">_updateController</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">seriesModel<span class="token punctuation">,</span> ecModel<span class="token punctuation">,</span> api</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    controller<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'pan'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'zoom'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'pan'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'zoom'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 就这这句话起作用了！！！</span>
        roamHelper<span class="token punctuation">.</span><span class="token function">updateViewOnZoom</span><span class="token punctuation">(</span>controllerHost<span class="token punctuation">,</span> e<span class="token punctuation">.</span>scale<span class="token punctuation">,</span> e<span class="token punctuation">.</span>originX<span class="token punctuation">,</span> e<span class="token punctuation">.</span>originY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 此处dispatchAction并不起作用</span>
        api<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            seriesId<span class="token operator">:</span> seriesModel<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">'graphRoam'</span><span class="token punctuation">,</span>
            zoom<span class="token operator">:</span> e<span class="token punctuation">.</span>scale<span class="token punctuation">,</span>
            originX<span class="token operator">:</span> e<span class="token punctuation">.</span>originX<span class="token punctuation">,</span>
            originY<span class="token operator">:</span> e<span class="token punctuation">.</span>originY
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></blockquote> <h3 id="dispatchaction与hack"><a href="#dispatchaction与hack" class="header-anchor">#</a> dispatchAction与hack</h3> <p>场景：想通过<code>js</code>触发某个操作，但是文档却没找着，这可怎么办呢？</p> <p><code>echarts</code>很多动作最终都会通过内部<code>dispatchAction</code>触发（也算是一种解偶吧），所以只要在<code>dispatchAction</code>上设置断点，再通过ui界面触发动作，查看<code>dispatchAction</code>的参数，即可完美hack</p> <p>举例：想要通过<code>js</code>触发地图缩放，但是官方文档没有介绍，怎么办？</p> <ol><li><p>在<code>dispatchAction</code>上下断点</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// node_modules/echarts/lib/echarts.js</span>
<span class="token keyword">function</span> <span class="token function">doDispatchAction</span><span class="token punctuation">(</span><span class="token parameter">payload<span class="token punctuation">,</span> silent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> payloadType <span class="token operator">=</span> payload<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
    <span class="token keyword">var</span> escapeConnect <span class="token operator">=</span> payload<span class="token punctuation">.</span>escapeConnect<span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>在界面上通过滚轮缩放（这一步视需求情况而定，比如选中的话可能就是执行框选动作）</p></li> <li><p>代码成功断住，查看参数<code>payload</code></p></li> <li><p>仿照<code>payload</code>格式，手动执行<code>dispatchAction</code>，删减或修改参数，理解参数的含义</p></li></ol> <h3 id="坐标轴"><a href="#坐标轴" class="header-anchor">#</a> 坐标轴</h3> <p>以直角坐标系<code>grid</code>为例，例如</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212112909.png" alt=""></p> <h4 id="坐标轴名称"><a href="#坐标轴名称" class="header-anchor">#</a> 坐标轴名称</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 坐标轴名称</span>
        name<span class="token operator">:</span> <span class="token string">'星期几'</span><span class="token punctuation">,</span>
        <span class="token comment">// 与坐标轴线的距离</span>
        nameGap<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token comment">// 坐标轴名称旋转</span>
        nameRotate<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
        <span class="token comment">// 坐标轴反转</span>
        <span class="token comment">// inverse: true,</span>
        <span class="token comment">// 坐标名称位置：'start'、'middle'或'center'、'end'</span>
        <span class="token comment">// nameLocation: 'start',</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212143812.png" alt=""></p> <h4 id="坐标轴线"><a href="#坐标轴线" class="header-anchor">#</a> 坐标轴线</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
        axisLine<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 是否显示</span>
            <span class="token comment">// show: false,</span>
            <span class="token comment">// 两端图形．如果都是箭头可直接设为'arrow'</span>
            symbol<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'none'</span><span class="token punctuation">,</span> <span class="token string">'arrow'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// 末端图形偏移</span>
            symbolOffset<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token comment">// 坐标轴线样式</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 轴线颜色</span>
                color<span class="token operator">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span>
                <span class="token comment">// 轴线粗细</span>
                width<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
                <span class="token comment">// 轴线类型：'dashed'，'dotted'，'solid'</span>
                type<span class="token operator">:</span> <span class="token string">'dashed'</span><span class="token punctuation">,</span>
                
                <span class="token comment">// 阴影4兄弟</span>
                shadowColor<span class="token operator">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token comment">// 阴影颜色</span>
                shadowBlur<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token comment">// 阴影等级</span>
                shadowOffsetX<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 阴影偏移量X</span>
                shadowOffsetY<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 阴影偏移量Y</span>
                
                <span class="token comment">// 透明度</span>
                opacity<span class="token operator">:</span> <span class="token number">0.6</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212144341.png" alt=""></p> <h4 id="坐标轴刻度"><a href="#坐标轴刻度" class="header-anchor">#</a> 坐标轴刻度</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        axisTick<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 是否显示</span>
            <span class="token comment">// show: false,</span>
            <span class="token comment">// 刻度是否与x轴名称对齐．默认x轴名称位于刻度之间的band（带）</span>
            alignWithLabel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 刻度朝向：是否朝内</span>
            inside<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 刻度长度</span>
            length<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
            <span class="token comment">// 刻度样式</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 刻度颜色</span>
                color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
                <span class="token comment">// 刻度粗细</span>
                width<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token comment">// 刻度类型：'dotted'，'dashed'，'solid'</span>
                type<span class="token operator">:</span> <span class="token string">'dotted'</span><span class="token punctuation">,</span>
                
                <span class="token comment">// 阴影4兄弟</span>
                shadowColor<span class="token operator">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span>
                shadowBlur<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                shadowOffsetX<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                shadowOffsetY<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                
                <span class="token comment">// 透明度</span>
                opacity<span class="token operator">:</span> <span class="token number">0.4</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212145019.png" alt=""></p> <h4 id="坐标轴刻度标签"><a href="#坐标轴刻度标签" class="header-anchor">#</a> 坐标轴刻度标签</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        axisLabel<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 是否显示</span>
            <span class="token comment">// show: false</span>
            <span class="token comment">// 朝向：是否朝内</span>
            inside<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 旋转角度</span>
            rotate<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
            <span class="token comment">// 刻度标签离坐标轴距离</span>
            margin<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
            <span class="token comment">// 格式化文本</span>
            formatter<span class="token operator">:</span> <span class="token string">'星期{value}'</span><span class="token punctuation">,</span>
            <span class="token comment">// 文本颜色</span>
            color<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span>
            <span class="token comment">// 字体</span>
            fontStyle<span class="token operator">:</span> <span class="token string">'oblique'</span><span class="token punctuation">,</span>
            <span class="token comment">// 字体家族</span>
            fontSize<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token comment">// 水平居中方式</span>
            align<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
            <span class="token comment">// 简直居中方式</span>
            verticalAlign<span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
            <span class="token comment">// 行高</span>
            lineHeight<span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>
            <span class="token comment">// 文本背景色</span>
            backgroundColor<span class="token operator">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span>
            <span class="token comment">// 文本边框颜色</span>
            borderColor<span class="token operator">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span>
            <span class="token comment">// 边框宽度</span>
            borderWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token comment">// 边框圆角</span>
            borderRadius<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token comment">// 文字内边距</span>
            padding<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            
            <span class="token comment">// 阴影4兄弟</span>
            shadowColor<span class="token operator">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span>
            shadowBlur<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            shadowOffsetX<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            shadowOffsetY<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212150425.png" alt=""></p> <h4 id="区域分隔线-splitline"><a href="#区域分隔线-splitline" class="header-anchor">#</a> 区域分隔线（splitLine）</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
        <span class="token comment">// 坐标轴在 grid 区域中的分隔线</span>
        splitLine<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 是否显示分隔线。默认数值轴显示，类目轴不显示</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            lineStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span>
                width<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'dashed'</span><span class="token punctuation">,</span>
                shadowBlur<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
                shadowOffsetX<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                shadowOffsetY<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                opacity<span class="token operator">:</span> <span class="token number">0.4</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212150903.png" alt=""></p> <h4 id="分隔区域-splitarea"><a href="#分隔区域-splitarea" class="header-anchor">#</a> 分隔区域（splitArea）</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
        splitArea<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 默认不显示</span>
            show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            areaStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// color: 'green',</span>
                <span class="token comment">// shadowBlur: 25,</span>
                <span class="token comment">// shadowOffsetX: 30,</span>
                <span class="token comment">// shadowOffsetY: 30,</span>
                <span class="token comment">// opacity: 0.4</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212151328.png" alt=""></p> <h3 id="markpoint、markline及markarea"><a href="#markpoint、markline及markarea" class="header-anchor">#</a> markPoint、markLine及markArea</h3> <h4 id="markpoint-图表标注"><a href="#markpoint-图表标注" class="header-anchor">#</a> markPoint（图表标注）</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        markPoint<span class="token operator">:</span> <span class="token punctuation">{</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'#ff00ff'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                color<span class="token operator">:</span> <span class="token string">'pink'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'最大值'</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">'max'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'最小值'</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">'min'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'平均值'</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">'average'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'任意坐标'</span><span class="token punctuation">,</span>
                    coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'固定 x 像素位置'</span><span class="token punctuation">,</span>
                    yAxis<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    x<span class="token operator">:</span> <span class="token string">'60%'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> 
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'某个屏幕坐标'</span><span class="token punctuation">,</span>
                    x<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
                    y<span class="token operator">:</span> <span class="token number">500</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212153025.png" alt=""></p> <h4 id="markline-图表标线"><a href="#markline-图表标线" class="header-anchor">#</a> markLine（图表标线）</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        markLine<span class="token operator">:</span> <span class="token punctuation">{</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span>
                
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'平均线'</span><span class="token punctuation">,</span>
                    <span class="token comment">// 支持 'average', 'min', 'max'</span>
                    type<span class="token operator">:</span> <span class="token string">'average'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">{</span>
                    name<span class="token operator">:</span> <span class="token string">'Y 轴值为 100 的水平线'</span><span class="token punctuation">,</span>
                    yAxis<span class="token operator">:</span> <span class="token number">100</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">{</span>
                    <span class="token comment">// 起点和终点的项会共用一个 name</span>
                    name<span class="token operator">:</span> <span class="token string">'最小值到最大值'</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">'min'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> <span class="token string">'max'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'两个坐标之间的标线'</span><span class="token punctuation">,</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">[</span><span class="token punctuation">{</span>
                    <span class="token comment">// 固定起点的 x 像素位置，用于模拟一条指向最大值的水平线</span>
                    yAxis<span class="token operator">:</span> <span class="token string">'max'</span><span class="token punctuation">,</span>
                    x<span class="token operator">:</span> <span class="token string">'40%'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    type<span class="token operator">:</span> <span class="token string">'max'</span>
                <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                
                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'两个屏幕坐标之间的标线'</span><span class="token punctuation">,</span>
                        x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                        y<span class="token operator">:</span> <span class="token number">100</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        x<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
                        y<span class="token operator">:</span> <span class="token number">200</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212154213.png" alt=""></p> <h4 id="markarea-图表标域"><a href="#markarea-图表标域" class="header-anchor">#</a> markArea（图表标域）</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        markArea<span class="token operator">:</span> <span class="token punctuation">{</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'平均值到最大值'</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">'average'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        type<span class="token operator">:</span> <span class="token string">'max'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'两个坐标之间的标域'</span><span class="token punctuation">,</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'60分到80分'</span><span class="token punctuation">,</span>
                        yAxis<span class="token operator">:</span> <span class="token number">260</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        yAxis<span class="token operator">:</span> <span class="token number">380</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>

                <span class="token comment">// 底下这两个没出来，不想管了</span>
                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'所有数据范围区间'</span><span class="token punctuation">,</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'min'</span><span class="token punctuation">,</span> <span class="token string">'min'</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        coord<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'max'</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        name<span class="token operator">:</span> <span class="token string">'两个屏幕坐标之间的标域'</span><span class="token punctuation">,</span>
                        x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                        y<span class="token operator">:</span> <span class="token number">100</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        x<span class="token operator">:</span> <span class="token string">'90%'</span><span class="token punctuation">,</span>
                        y<span class="token operator">:</span> <span class="token string">'10%'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191212154817.png" alt=""></p> <h3 id="轮播tooltip"><a href="#轮播tooltip" class="header-anchor">#</a> 轮播tooltip</h3> <p>参考自<a href="https://www.echartsjs.com/examples/en/editor.html?c=doc-example/pie-highlight" target="_blank" rel="noopener noreferrer">官方demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'item'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> currentIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> dataLen <span class="token operator">=</span> option<span class="token punctuation">.</span>series<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token comment">// 取消之前高亮的图形</span>
    myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'downplay'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentIndex <span class="token operator">=</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> dataLen<span class="token punctuation">;</span>
    <span class="token comment">// 高亮当前图形</span>
    myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'highlight'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 显示 tooltip</span>
    myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'showTip'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/Peek2019-12-1216-03.gif" alt=""></p> <h4 id="避免悬浮label重叠"><a href="#避免悬浮label重叠" class="header-anchor">#</a> 避免悬浮label重叠</h4> <p>发生场景：环形图轮播tooltip，鼠标悬浮会触发tooltip，造成圈内文本重叠</p> <p><strong>个人解决思路</strong>：设置<strong>标志位</strong>，在鼠标悬浮其上时，停止轮播tooltip的定时器</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'rgb(105, 184, 107)'</span><span class="token punctuation">,</span> <span class="token string">'rgb(105, 193, 193)'</span><span class="token punctuation">,</span> <span class="token string">'rgb(199, 119, 188)'</span><span class="token punctuation">,</span> <span class="token string">'rgb(216, 197, 192)'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'pie'</span><span class="token punctuation">,</span>
            radius<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'58%'</span><span class="token punctuation">,</span> <span class="token string">'80%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            hoverOffset<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            selectedOffset<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
            avoidLabelOverlap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            label<span class="token operator">:</span> <span class="token punctuation">{</span>
                normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                    show<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                        fontSize<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                        fontWeight<span class="token operator">:</span> <span class="token string">&quot;bold&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    position<span class="token operator">:</span> <span class="token string">'center'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                emphasis<span class="token operator">:</span> <span class="token punctuation">{</span>
                    show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    textStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                        fontSize<span class="token operator">:</span> <span class="token string">'34'</span><span class="token punctuation">,</span>
                        fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token function">formatter</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> params<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span>params<span class="token punctuation">.</span>value
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            itemStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
                borderColor<span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">,</span>
                borderWidth<span class="token operator">:</span> <span class="token number">2</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            labelLine<span class="token operator">:</span> <span class="token punctuation">{</span>
                normal<span class="token operator">:</span> <span class="token punctuation">{</span>
                    show<span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 数据长度</span>
<span class="token keyword">let</span> dataLen <span class="token operator">=</span> mock<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

<span class="token comment">// 是否忽略定时器标志</span>
<span class="token keyword">let</span> paused <span class="token operator">=</span> <span class="token boolean">false</span>
chart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.忽略定时器</span>
    paused <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token comment">// 2.downplay所有</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> k<span class="token operator">&lt;</span>dataLen<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span> <span class="token string">'downplay'</span><span class="token punctuation">,</span>
            seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            dataIndex<span class="token operator">:</span> k
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 3.highlight当前</span>
    chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'highlight'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> params<span class="token punctuation">.</span>dataIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
chart<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重置标志位及downplay当前tooltip</span>
    paused <span class="token operator">=</span> <span class="token boolean">false</span>
    chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'downplay'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> params<span class="token punctuation">.</span>dataIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> currentIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>paused<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token comment">// 取消之前高亮的图形</span>
    chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'downplay'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentIndex <span class="token operator">=</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> dataLen<span class="token punctuation">;</span>
    <span class="token comment">// 高亮当前图形</span>
    chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'highlight'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 显示 tooltip</span>
    chart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'showTip'</span><span class="token punctuation">,</span>
        seriesIndex<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        dataIndex<span class="token operator">:</span> currentIndex
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br></div></div><h3 id="dataset与encode"><a href="#dataset与encode" class="header-anchor">#</a> dataset与encode</h3> <p><em>（参考自官网＂<a href="https://www.echartsjs.com/zh/tutorial.html#%E4%BD%BF%E7%94%A8%20dataset%20%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer">使用dataset管理数据<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>＂）</em></p> <p>ECharts 4 开始支持了 <code>dataset</code> 组件用于单独的数据集声明，从而数据可以单独管理，被多个组件复用，并且可以基于数据指定数据到视觉的映射。这在不少场景下能带来使用上的方便</p> <h4 id="基本-2"><a href="#基本-2" class="header-anchor">#</a> 基本</h4> <p>以拆线图为例，使用往常的方式，分别设置各自的数据<code>data</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">1932</span><span class="token punctuation">,</span> <span class="token number">2901</span><span class="token punctuation">,</span> <span class="token number">1934</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">,</span> <span class="token number">1630</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191215095007.png" alt=""></p> <p><strong>改用<code>dataset</code></strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span><span class="token number">820</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span><span class="token number">932</span><span class="token punctuation">,</span><span class="token number">1932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span><span class="token number">2901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Thu'</span><span class="token punctuation">,</span><span class="token number">934</span><span class="token punctuation">,</span><span class="token number">1934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token number">1290</span><span class="token punctuation">,</span><span class="token number">290</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sat'</span><span class="token punctuation">,</span><span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">1630</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token number">1320</span><span class="token punctuation">,</span><span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>使用带维度名的数据</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'name1'</span><span class="token punctuation">,</span> <span class="token string">'name2'</span><span class="token punctuation">,</span> <span class="token string">'name3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span><span class="token number">820</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span><span class="token number">932</span><span class="token punctuation">,</span><span class="token number">1932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span><span class="token number">2901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Thu'</span><span class="token punctuation">,</span><span class="token number">934</span><span class="token punctuation">,</span><span class="token number">1934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token number">1290</span><span class="token punctuation">,</span><span class="token number">290</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sat'</span><span class="token punctuation">,</span><span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">1630</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token number">1320</span><span class="token punctuation">,</span><span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>效果一样，不过<code>维度名</code>会被当成系列名用于<code>tooltip</code></p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191215095413.png" alt=""></p> <p>ECharts会自动检测数据是否含有维度名，当然也可以手动设置数据是否含有维度名，见下节</p> <h4 id="sourceheader"><a href="#sourceheader" class="header-anchor">#</a> sourceHeader</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        sourceHeader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 表明数据不含有维度名</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span><span class="token number">820</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span><span class="token number">932</span><span class="token punctuation">,</span><span class="token number">1932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span><span class="token number">2901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Thu'</span><span class="token punctuation">,</span><span class="token number">934</span><span class="token punctuation">,</span><span class="token number">1934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token number">1290</span><span class="token punctuation">,</span><span class="token number">290</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sat'</span><span class="token punctuation">,</span><span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">1630</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token number">1320</span><span class="token punctuation">,</span><span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="serieslayoutby"><a href="#serieslayoutby" class="header-anchor">#</a> seriesLayoutBy</h4> <p><code>ECharts</code>默认按列为一个维度渲染数据，可以配置成按行为一个维度</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span> <span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span> <span class="token number">820</span><span class="token punctuation">,</span> <span class="token number">932</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span> <span class="token number">934</span><span class="token punctuation">,</span> <span class="token number">1290</span><span class="token punctuation">,</span> <span class="token number">1330</span><span class="token punctuation">,</span> <span class="token number">1320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">1932</span><span class="token punctuation">,</span> <span class="token number">2901</span><span class="token punctuation">,</span> <span class="token number">1934</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">,</span> <span class="token number">1630</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        seriesLayoutBy<span class="token operator">:</span> <span class="token string">'row'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        seriesLayoutBy<span class="token operator">:</span> <span class="token string">'row'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>效果其实是一样的</p> <p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191215100101.png" alt=""></p> <h4 id="key-val格式数据"><a href="#key-val格式数据" class="header-anchor">#</a> key-val格式数据</h4> <p>这种格式就必须要指名维度名了</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Mon'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">820</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">932</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">1932</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">901</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">2901</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">934</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">1934</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">1290</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">290</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">1330</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">1630</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>name1<span class="token operator">:</span> <span class="token string">'Sun'</span><span class="token punctuation">,</span> name2<span class="token operator">:</span> <span class="token number">1320</span><span class="token punctuation">,</span> name3<span class="token operator">:</span> <span class="token number">320</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>效果还是一样的，不截图了</p> <h4 id="encode"><a href="#encode" class="header-anchor">#</a> encode</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>option <span class="token operator">=</span> <span class="token punctuation">{</span>
    tooltip<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    dataset<span class="token operator">:</span> <span class="token punctuation">{</span>
        source<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span><span class="token number">820</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Tue'</span><span class="token punctuation">,</span><span class="token number">932</span><span class="token punctuation">,</span><span class="token number">1932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token number">901</span><span class="token punctuation">,</span><span class="token number">2901</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Thu'</span><span class="token punctuation">,</span><span class="token number">934</span><span class="token punctuation">,</span><span class="token number">1934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token number">1290</span><span class="token punctuation">,</span><span class="token number">290</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sat'</span><span class="token punctuation">,</span><span class="token number">1330</span><span class="token punctuation">,</span><span class="token number">1630</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token number">1320</span><span class="token punctuation">,</span><span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    xAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Mon'</span><span class="token punctuation">,</span> <span class="token string">'Tue'</span><span class="token punctuation">,</span> <span class="token string">'Wed'</span><span class="token punctuation">,</span> <span class="token string">'Thu'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    yAxis<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'value'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        encode<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 支持数字（维度下标）、字符串（维度名）</span>
            y<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
        encode<span class="token operator">:</span> <span class="token punctuation">{</span>
            y<span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><img src="https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191215101223.png" alt=""></p> <p>仔细看连线的颜色，红色的那条本来默认是取第二列数据的，因为设置了<code>y: 2</code>（下标从0开始，第三列为2），改取第三列了</p> <p>更多encode知识，看 <a href="https://www.echartsjs.com/zh/tutorial.html#%E4%BD%BF%E7%94%A8%20dataset%20%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer"><strong>数据到图形的映射（encode）</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="常见的映射方式"><a href="#常见的映射方式" class="header-anchor">#</a> 常见的映射方式</h4> <p>还是见<a href="https://www.echartsjs.com/zh/tutorial.html#%E4%BD%BF%E7%94%A8%20dataset%20%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/29/2020, 9:56:29 AM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.32e97e1d.js" defer></script><script src="/assets/js/3.5267404b.js" defer></script><script src="/assets/js/1.bd6596e1.js" defer></script><script src="/assets/js/183.c93cd001.js" defer></script>
  </body>
</html>
