(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{549:function(t,e,s){"use strict";s.r(e);var r=s(4),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"一-使用webstorm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-使用webstorm"}},[t._v("#")]),t._v(" 一. 使用Webstorm")]),t._v(" "),s("ol",[s("li",[t._v("打开webstorm，如下图")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021190946.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("点击工具栏的"),s("code",[t._v("Add Configuration")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/aaaaa.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("点击"),s("code",[t._v("+")]),t._v("，选择"),s("code",[t._v("Node.js")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021191933.png",alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("修改名称，指定"),s("code",[t._v("node版本")]),t._v("，选择要调试的"),s("code",[t._v("js文件")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021192556.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("code",[t._v("ok")]),t._v("保存使用")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571657219.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("在代码"),s("code",[t._v("行数")]),t._v("旁边点击添加"),s("code",[t._v("断点")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021192915.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[t._v("点击旁边的"),s("code",[t._v("甲壳虫")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021193005.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"8"}},[s("li",[t._v("现在可以开始调试了")])]),t._v(" "),s("p",[t._v("面板")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571657636.png",alt:""}})]),t._v(" "),s("p",[t._v("调试技巧")]),t._v(" "),s("p",[t._v("a. 直接点击"),s("code",[t._v("行数")]),t._v("，程序直接到对应行，相当于"),s("code",[t._v("Run to Cursor")]),t._v("（记住，是行数，行数旁边的空白处是用来下断的）")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021193610.png",alt:""}})]),t._v(" "),s("p",[t._v("b. 堆栈回溯")]),t._v(" "),s("p",[t._v("使用场景：单步执行走过头了，想回到上一句，但又不想重新debug")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571658060.png",alt:""}})]),t._v(" "),s("p",[t._v("鼠标放上去可以看到悬浮提示，"),s("code",[t._v("Drop Frame")]),t._v("，其实就是对当前栈"),s("code",[t._v("stack")]),t._v("执行一次"),s("code",[t._v("drop")]),t._v("，这样程序流程又回到了上一个"),s("code",[t._v("function")]),t._v("了")]),t._v(" "),s("p",[t._v("c. 条件断点")]),t._v(" "),s("p",[t._v("对已存在的断点"),s("code",[t._v("鼠标右键")]),t._v("，弹出对应面板")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021194502.png",alt:""}})]),t._v(" "),s("p",[t._v("d. 查看及禁用断点")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571659006.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"二-使用chrome"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-使用chrome"}},[t._v("#")]),t._v(" 二. 使用Chrome")]),t._v(" "),s("ol",[s("li",[t._v("项目根目录下，打开终端，执行命令")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("node --inspect-brk "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021195910.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021200043.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("打开chrome浏览器，输入"),s("code",[t._v("chrome://inspect")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021200332.png",alt:""}})]),t._v(" "),s("p",[t._v("找到要高度的目标"),s("code",[t._v("Target")]),t._v("，点击"),s("code",[t._v("inspect")]),t._v("，弹出"),s("code",[t._v("devtool")]),t._v("开始调试")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021200533.png",alt:""}})]),t._v(" "),s("p",[t._v("仔细看右下角"),s("code",[t._v("Breakpoints")]),t._v("面板，其实是没有断点的，而程序默认断在"),s("code",[t._v("第一行代码")]),t._v("上，这是因为我们使用了")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("node --inspect-brk "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("其实要高度nodejs，最简单的命令是下面这条")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("node --inspect "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("只要加上"),s("code",[t._v("--inspect")]),t._v("参数，node将以debugger模式执行test文件，但是这里的test.js只是处理某个任务，运行完就会终止，根本没有下断的机会，所以才使用"),s("code",[t._v("--inspect-brk")]),t._v("参数，让node自动断在第一条语句")]),t._v(" "),s("p",[t._v("如果是调试server服务脚本（即一直运行在后台的服务），就可以使用"),s("code",[t._v("--inspect")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("如果没有正确关闭node脚本，再次调试时，会遇到端口被占用问题")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021201444.png",alt:""}})]),t._v(" "),s("p",[t._v("打开任务管理器，搜索"),s("code",[t._v("node")]),t._v("，手动关闭对应程序")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191021201637.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"三-使用vscode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-使用vscode"}},[t._v("#")]),t._v(" 三. 使用VSCode")]),t._v(" "),s("p",[s("em",[t._v("对vscode不是很熟悉，但还是写下")])]),t._v(" "),s("ol",[s("li",[t._v("打开vscode")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191022113350.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("点击左侧"),s("code",[t._v("甲壳虫")]),t._v("debugger")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571715325.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("点击上方"),s("code",[t._v("没有配置")]),t._v("以"),s("code",[t._v("添加配置")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191022113706.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("修改配置文件，指定想要调试的代码文件")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191022113804.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("添加断点")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191022113844.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("启动调试，如下")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/1571715562.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20191022114015.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[s("code",[t._v("launch.json")]),t._v("被存放在"),s("code",[t._v(".vscode/")]),t._v("目录下")])]),t._v(" "),s("blockquote",[s("p",[t._v("vscode新版调试node好像更便捷了，上面是之前的笔记，先放着")])]),t._v(" "),s("p",[s("em",[t._v("2020年8月3日")])]),t._v(" "),s("h4",{attrs:{id:"快速调试单文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速调试单文件"}},[t._v("#")]),t._v(" 快速调试单文件")]),t._v(" "),s("p",[t._v("额，github图床挂了，，，先不上图了")]),t._v(" "),s("ol",[s("li",[t._v("选中要 debug 的文件")]),t._v(" "),s("li",[t._v("下断")]),t._v(" "),s("li",[t._v("debug 面板")]),t._v(" "),s("li",[t._v("启动（使用 F5 可以在源代码界面快速启动调试）")])]),t._v(" "),s("h4",{attrs:{id:"使用配置项调试单文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用配置项调试单文件"}},[t._v("#")]),t._v(" 使用配置项调试单文件")]),t._v(" "),s("p",[t._v("只要能用类似"),s("code",[t._v("node test.js")]),t._v("这样的方式执行的，就都可以")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("debug 面板")])]),t._v(" "),s("li",[s("p",[t._v("创建 launch.json 文件")])]),t._v(" "),s("li",[s("p",[t._v("选择 Node.js")])]),t._v(" "),s("li",[s("p",[t._v("默认生成的配置为调试单文件配置")])]),t._v(" "),s("li",[s("p",[t._v("program 字段，如果 package.json 有 start 脚本，默认指向那个脚本，如果没有，则为 "),s("code",[t._v("${file}")])]),t._v(" "),s("p",[s("code",[t._v("${file}")]),t._v("表示当前打开文件，更多预定义变量见"),s("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/variables-reference",target:"_blank",rel:"noopener noreferrer"}},[t._v("Variables Reference"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("举例，如果想要调试的是 “src/main.js”文件，设置 program 值为 "),s("code",[t._v("${workspaceFolder}/src/main.js")])])]),t._v(" "),s("li",[s("p",[t._v("启动")])])]),t._v(" "),s("h4",{attrs:{id:"调试cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试cli"}},[t._v("#")]),t._v(" 调试cli")]),t._v(" "),s("p",[t._v("场景：如果程序不是使用 "),s("code",[t._v("node test.js")]),t._v("之类方式启动，而是如下：")]),t._v(" "),s("ul",[s("li",[t._v("webpack")]),t._v(" "),s("li",[t._v("vue-cli-service serve")]),t._v(" "),s("li",[t._v("jest test")]),t._v(" "),s("li",[t._v("...")])]),t._v(" "),s("p",[t._v("调试步骤如下")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("debug 面板")])]),t._v(" "),s("li",[s("p",[t._v("创建 launch.json 文件")])]),t._v(" "),s("li",[s("p",[t._v("界面右下角“添加配置”")])]),t._v(" "),s("li",[s("p",[t._v("选择“Node.js 通过 npm 启动”")])]),t._v(" "),s("li",[s("p",[t._v("假设正常启动程序是 npm run serve")])]),t._v(" "),s("li",[s("p",[t._v("设置 runtimeExecutable 为 npm（默认就是 npm，如果使用的是 yarn run serve，则改为 yarn）")]),t._v(" "),s("p",[t._v('runtimeArgs 为 ["run-script", "serve"]')])]),t._v(" "),s("li",[s("p",[t._v("启动")])])]),t._v(" "),s("h4",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[t._v("更多调试信息可直接见 "),s("a",{attrs:{href:"https://code.visualstudio.com/docs/nodejs/nodejs-debugging",target:"_blank",rel:"noopener noreferrer"}},[t._v("VSCode 官网"),s("OutboundLink")],1),t._v("，写得挺详细的")])])}),[],!1,null,null,null);e.default=a.exports}}]);