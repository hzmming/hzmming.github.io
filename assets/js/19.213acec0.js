(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{499:function(e,t,a){"use strict";a.r(t);var v=a(4),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("一旦浏览器解析文档（"),a("code",[e._v("document")]),e._v("）并构建DOM树（"),a("code",[e._v("document tree")]),e._v("），它就必须为树中每个元素响应目标媒体类型（"),a("code",[e._v("media type")]),e._v("）的所有属性分配一个值．")]),e._v(" "),a("p",[e._v("属性的最终值是（"),a("code",[e._v("Final Value")]),e._v("）"),a("code",[e._v("四个步骤")]),e._v("计算的结果：")]),e._v(" "),a("ol",[a("li",[e._v("通过规范决定值（规范具体见下面解释），称为"),a("code",[e._v("Specified Value")])]),e._v(" "),a("li",[a("code",[e._v("Specified Value")]),e._v("被解析为DOM树继承时使用的值，称为"),a("code",[e._v("Computed Value")])]),e._v(" "),a("li",[a("code",[e._v("Computed Value")]),e._v("在必要时会被转换为一个绝对值，称为"),a("code",[e._v("Used Value")])]),e._v(" "),a("li",[e._v("最后"),a("code",[e._v("Used Value")]),e._v("由于本地环境的限制转换成"),a("code",[e._v("Actual Value")]),e._v("（限制见下面解释）")])]),e._v(" "),a("h3",{attrs:{id:"specified-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specified-value"}},[e._v("#")]),e._v(" Specified Value")]),e._v(" "),a("p",[e._v("浏览器按照以下的机制为每个元素分配一个"),a("code",[e._v("Specified Value")]),e._v("（按照优先级排序）")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("如果级联（"),a("code",[e._v("cascade")]),e._v("）产生一个值，使用它")]),e._v(" "),a("blockquote",[a("p",[e._v("简单地说：如果样式表为属性显示地指定一个值，使用它")]),e._v(" "),a("p",[e._v("复杂地说：CSS的全称是"),a("code",[e._v("Cascading Style Sheets")]),e._v("，CSS同样会被解析成"),a("code",[e._v("css tree")]),e._v("，也就是一棵级联层叠的样式树，根据匹配器和优先级，最终决定使用的值")])])]),e._v(" "),a("li",[a("p",[e._v("否则，如果属性是可继承的（"),a("code",[e._v("inherited")]),e._v("）并且元素不是DOM树（"),a("code",[e._v("document tree")]),e._v("）的根节点，使用父元素的"),a("code",[e._v("Computed Value")])])]),e._v(" "),a("li",[a("p",[e._v("否则使用属性的初始值（"),a("code",[e._v("Inival Value")]),e._v("）")])])]),e._v(" "),a("h3",{attrs:{id:"inival-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inival-value"}},[e._v("#")]),e._v(" Inival Value")]),e._v(" "),a("p",[e._v("每个属性的初始值（"),a("code",[e._v("Inival Value")]),e._v("）由属性的定义规定表明")]),e._v(" "),a("h3",{attrs:{id:"computed-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#computed-value"}},[e._v("#")]),e._v(" Computed Value")]),e._v(" "),a("p",[a("code",[e._v("Specified Value")]),e._v("在级联阶段（"),a("code",[e._v("during the cascade")]),e._v("）被解析为"),a("code",[e._v("Computed Value")]),e._v("，按如下操作处理")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("处理特殊值："),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/inherit",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("inherit")]),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/initial",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("initial")]),a("OutboundLink")],1),e._v(", "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/unset",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("unset")]),a("OutboundLink")],1),e._v(", and "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/revert",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("revert")]),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[e._v("按照各自属性定义的"),a("code",[e._v("Computed value")]),e._v("部分处理")]),e._v(" "),a("blockquote",[a("p",[e._v("例如："),a("code",[e._v("url()")]),e._v("中的相对路径转为绝对路径（URIs are made absolute）、"),a("code",[e._v("em")]),e._v("和"),a("code",[e._v("ex")]),e._v("单位转为"),a("code",[e._v("px")]),e._v("或者绝对值")])])])]),e._v(" "),a("p",[a("strong",[e._v("举例")])]),e._v(" "),a("p",[e._v("(1) "),a("code",[e._v("line-height")]),e._v("的"),a("code",[e._v("Computed value")]),e._v("部分如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20200115151652.png",alt:""}})]),e._v(" "),a("p",[e._v("翻译过来：对于百分比和长度值，转成绝对值，否则直接取"),a("code",[e._v("Specified Value")]),e._v("．比如"),a("code",[e._v("font-size: 18px; line-height: 2em")]),e._v("，则"),a("code",[e._v("line-height")]),e._v("的"),a("code",[e._v("Computed value")]),e._v("值为"),a("code",[e._v("36px")])]),e._v(" "),a("blockquote",[a("p",[e._v("引申下，那百分比如何转呢？以谁为百分比呢？看"),a("code",[e._v("Percentages")]),e._v("那一栏．其实这个属性面板并没有并不完整，比如"),a("code",[e._v("line-height")]),e._v("还可以支持数字"),a("code",[e._v("number")]),e._v("（注意，长度值是带单位的，如"),a("code",[e._v("em")]),e._v("、"),a("code",[e._v("px")]),e._v("，而数字就真的就是个数字），那"),a("code",[e._v("number")]),e._v("又是怎么取值呢？还是得具体见"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/line-height",target:"_blank",rel:"noopener noreferrer"}},[e._v("mdn"),a("OutboundLink")],1),e._v("或"),a("a",{attrs:{href:"https://www.w3.org/TR/CSS2/visudet.html#propdef-line-height",target:"_blank",rel:"noopener noreferrer"}},[e._v("w3c"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("(2) "),a("code",[e._v("color")]),e._v("的"),a("code",[e._v("Computed value")]),e._v("部分如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20200115152759.png",alt:""}})]),e._v(" "),a("p",[e._v("翻译过来：如果值是透明的，转为"),a("code",[e._v("rgba()")]),e._v("，如果不是，则转为"),a("code",[e._v("rgb()")]),e._v("．"),a("code",[e._v("transparent")]),e._v("转为"),a("code",[e._v("rgba(0,0,0,0)")])]),e._v(" "),a("p",[e._v("(3) "),a("code",[e._v("font-size")]),e._v("的"),a("code",[e._v("Computed value")]),e._v("部分如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20200115153336.png",alt:""}})]),e._v(" "),a("p",[e._v("(4) "),a("code",[e._v("background")]),e._v("的"),a("code",[e._v("Computed value")]),e._v("部分如下：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20200115153505.png",alt:""}})]),e._v(" "),a("p",[e._v("翻译过来："),a("code",[e._v("background")]),e._v("属性作为很多"),a("code",[e._v("background-*")]),e._v("属性集体的简写，其"),a("code",[e._v("Computed Value")]),e._v("由其"),a("code",[e._v("background-*")]),e._v("属性集的"),a("code",[e._v("Computed Value")]),e._v("组合而成")]),e._v(" "),a("p",[e._v("这个处理过程叫"),a("code",[e._v("Computing")]),e._v("，"),a("code",[e._v("Computing")]),e._v("不要求浏览器渲染文档（Computing a value never requires the user agent to render the document），这也意味着有些值是无法在"),a("code",[e._v("Computing")]),e._v("过程推导出来．比如"),a("code",[e._v("width")]),e._v(", "),a("code",[e._v("margin-right")]),e._v(", "),a("code",[e._v("text-indent")]),e._v(", and "),a("code",[e._v("top")]),e._v("等属性的百分比值需要布局"),a("code",[e._v("layout")]),e._v("后才能决定，所以这些百分比值并没有转换为绝对值而是直接作为其"),a("code",[e._v("Computed Value")]),e._v("（percentage-specified values turn into percentage-computed values）．")]),e._v(" "),a("p",[e._v("这些相对值会在下个阶段"),a("code",[e._v("Used Value")]),e._v("确定后转换为绝对值")]),e._v(" "),a("h3",{attrs:{id:"used-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#used-value"}},[e._v("#")]),e._v(" Used Value")]),e._v(" "),a("p",[e._v("属性的 Computed Value 尽可能在文档渲染前计算得出，然而，有些值必须等到元素渲染出来后才能得知，比如：我们为某个元素的 width 属性设置一个百分比值，那么这个元素的 width 就必须等到它的的 Containing Block 的 width 值确定后才能计算得出。所以 Used Value 就是一个等待 Computed Value 和任何存在依赖都处理完后得到的那个绝对值。")]),e._v(" "),a("h3",{attrs:{id:"actual-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#actual-value"}},[e._v("#")]),e._v(" Actual Value")]),e._v(" "),a("p",[e._v("原则上来讲，Used Value 就是元素渲染时使用的值，但是并不是所有的用户代理都能直接把 Used Value 用在当前环境下。比如：有些浏览器只能使用整型像素值来渲染元素的 border-width 属性，那么这些浏览器就会对浮点类型的 Used Value 进行一些近似处理。所以 Actual Value 就是 Used Value 在进行近似处理后的值。")]),e._v(" "),a("h3",{attrs:{id:"resolved-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolved-value"}},[e._v("#")]),e._v(" Resolved Value")]),e._v(" "),a("p",[e._v("CSS属性的"),a("code",[e._v("Resolved value")]),e._v("是"),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("getComputedStyle()")]),a("OutboundLink")],1),e._v("的返回值．")]),e._v(" "),a("p",[e._v("对于大多数属性来说，它就是"),a("code",[e._v("Computed Value")]),e._v("值，但有一部分属性（包括"),a("code",[e._v("width")]),e._v("和"),a("code",[e._v("height")]),e._v("）取的是"),a("code",[e._v("Used Value")])]),e._v(" "),a("p",[e._v("到底哪些属性是取"),a("code",[e._v("Compute Value")]),e._v("，哪些属性是取"),a("code",[e._v("Used Value")]),e._v("，见"),a("a",{attrs:{href:"https://drafts.csswg.org/cssom/#resolved-values",target:"_blank",rel:"noopener noreferrer"}},[e._v("W3C"),a("OutboundLink")],1)]),e._v(" "),a("blockquote",[a("p",[e._v("个人理解：感觉不管是取"),a("code",[e._v("Computed Value")]),e._v("还是"),a("code",[e._v("Used Value")]),e._v("，其实都是取"),a("strong",[e._v("绝对值")]),e._v("啦！因为有些属性在"),a("code",[e._v("Computing")]),e._v("阶段无法转换为绝对值，所以直接用相对值作为"),a("code",[e._v("Computed Value")]),e._v("，这个时候，"),a("code",[e._v("Resolved Value")]),e._v("取"),a("code",[e._v("Used Value")]),e._v("就可以保持一致取绝对值了．")])]),e._v(" "),a("p",[a("em",[e._v("参考资料")])]),e._v(" "),a("p",[a("em",[a("a",{attrs:{href:"https://dancon.gitbooks.io/git-books/content/css/concept/assigning_value_cascading_and_inheritance.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Assigning property values, Cascading, and Inheritance"),a("OutboundLink")],1)])]),e._v(" "),a("p",[a("em",[a("a",{attrs:{href:"https://www.cyj.me/programming/2013/04/26/specified-computed-used-and-resolved-value/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Specified, Computed, Used, and Resolved Value"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("https://drafts.csswg.org/cssom/#resolved-values")]),e._v(" "),a("p",[a("em",[e._v("https://www.w3.org/TR/CSS2/cascade.html#specified-value")])]),e._v(" "),a("h3",{attrs:{id:"css3规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css3规范"}},[e._v("#")]),e._v(" CSS3规范")]),e._v(" "),a("p",[e._v("唉，看了这么多资料是CSS2的，CSS3有变动，没精力看了，就记录下")]),e._v(" "),a("p",[e._v("参考自 https://drafts.csswg.org/css-cascade-4/#declared-value")]),e._v(" "),a("p",[e._v("从 "),a("strong",[e._v("4. Value Processing")]),e._v(" 开始看")]),e._v(" "),a("p",[e._v("Once a user agent has parsed a document and constructed a document tree, it must assign, to every element in the tree, and correspondingly to every box in the formatting structure, a value to every property that applies to the target media type.")]),e._v(" "),a("p",[e._v("The final value of a CSS property for a given element or box is the result of a multi-step calculation:")]),e._v(" "),a("ol",[a("li",[e._v("First, all the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#declared-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("declared values"),a("OutboundLink")],1),e._v(" applied to an element are collected, for each property on each element. There may be zero or many declared values applied to the element.")]),e._v(" "),a("li",[e._v("Cascading yields the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#cascaded-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("cascaded value"),a("OutboundLink")],1),e._v(". There is at most one cascaded value per property per element.")]),e._v(" "),a("li",[e._v("Defaulting yields the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#specified-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("specified value"),a("OutboundLink")],1),e._v(". Every element has exactly one specified value per property.")]),e._v(" "),a("li",[e._v("Resolving value dependencies yields the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#computed-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("computed value"),a("OutboundLink")],1),e._v(". Every element has exactly one computed value per property.")]),e._v(" "),a("li",[e._v("Formatting the document yields the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#used-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("used value"),a("OutboundLink")],1),e._v(". An element only has a used value for a given property if that property applies to the element.")]),e._v(" "),a("li",[e._v("Finally, the used value is transformed to the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#actual-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("actual value"),a("OutboundLink")],1),e._v(" based on constraints of the display environment. As with the "),a("a",{attrs:{href:"https://drafts.csswg.org/css-cascade-4/#used-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("used value"),a("OutboundLink")],1),e._v(", there may or may not be an actual value for a given property on an element.")])]),e._v(" "),a("p",[e._v("摘抄一部分，以后有心情再整理吧")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/hzmming/myGraphBed/master/20200115165848.png",alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);