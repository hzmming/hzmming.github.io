(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{638:function(_,v,e){"use strict";e.r(v);var t=e(4),n=Object(t.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("blockquote",[e("p",[_._v("阮一峰的"),e("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("文章"),e("OutboundLink")],1),_._v("写得很好了，本篇只是看完粗略地做下笔记")])]),_._v(" "),e("h3",{attrs:{id:"一、ascii-码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、ascii-码"}},[_._v("#")]),_._v(" 一、ASCII 码")]),_._v(" "),e("p",[e("strong",[_._v("ASCII")]),_._v("（发音： "),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Help:%E8%8B%B1%E8%AA%9E%E5%9C%8B%E9%9A%9B%E9%9F%B3%E6%A8%99",target:"_blank",rel:"noopener noreferrer"}},[_._v("/ˈæski/"),e("OutboundLink")],1),_._v(" "),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Wikipedia:%E7%99%BC%E9%9F%B3%E9%87%8D%E6%8B%BC",target:"_blank",rel:"noopener noreferrer"}},[e("em",[_._v("ASS-kee")]),e("OutboundLink")],1),_._v("["),e("a",{attrs:{href:"https://zh.wikipedia.org/wiki/ASCII#cite_note-1",target:"_blank",rel:"noopener noreferrer"}},[_._v("1]"),e("OutboundLink")],1),_._v("，"),e("strong",[_._v("A")]),_._v("merican "),e("strong",[_._v("S")]),_._v("tandard "),e("strong",[_._v("C")]),_._v("ode for "),e("strong",[_._v("I")]),_._v("nformation "),e("strong",[_._v("I")]),_._v("nterchange，"),e("strong",[_._v("美国信息交换标准代码")])]),_._v(" "),e("p",[_._v("使用1个字节表示字符，首位固定为0，二进制为"),e("strong",[_._v("1XXXXXXX")]),_._v("，可以表示128个字符（2的7次方）")]),_._v(" "),e("h3",{attrs:{id:"二、非-ascii-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、非-ascii-编码"}},[_._v("#")]),_._v(" 二、非 ASCII 编码")]),_._v(" "),e("p",[_._v("英语用128个字符是够了，但其它语言不够．各个国家都设计了自己的编码方式，在1个字节即ASCII范围内保持一致，但超出其范围的，同一个编码值在不同国家表示不同的值，也就造成了乱码")]),_._v(" "),e("h3",{attrs:{id:"三、unicode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、unicode"}},[_._v("#")]),_._v(" 三、Unicode")]),_._v(" "),e("p",[_._v("为了解决各国各自的编码不统一，使用一种编码系统容纳全世界各国的字符．，比如，"),e("code",[_._v("U+0639")]),_._v("表示阿拉伯字母"),e("code",[_._v("Ain")]),_._v("，"),e("code",[_._v("U+0041")]),_._v("表示英语的大写字母"),e("code",[_._v("A")]),_._v("，"),e("code",[_._v("U+4E25")]),_._v("表示汉字"),e("code",[_._v("严")]),_._v("。")]),_._v(" "),e("h3",{attrs:{id:"四、utf-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、utf-8"}},[_._v("#")]),_._v(" 四、UTF-8")]),_._v(" "),e("h4",{attrs:{id:"_1-unicode与utf-8的关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-unicode与utf-8的关系"}},[_._v("#")]),_._v(" 1. unicode与utf-8的关系")]),_._v(" "),e("p",[e("code",[_._v("unicode")]),_._v("只是一种编码方式，从0开始递增，00表示某某字符，01表示某某字符，02表示某某字符，不断增加，这样一个意思．但它并没有规定计算机如何存储．计算机存储会有什么问题呢？")]),_._v(" "),e("p",[_._v("第一个问题，编码靠前的字符，比如大写字母"),e("code",[_._v("A")]),_._v("，编码为41，编码靠后的字符，比如汉字"),e("code",[_._v("严")]),_._v("，编码为4E25，如果直接用2个字节存储，那么对于英语为母语的国家不是很浪费空间么？他们只需一个字节就够，其余全部补0．而且由于容纳全世界的字符，汉字"),e("code",[_._v("严")]),_._v("的编码根本不算多靠后，还有XXYYZZ呢（举个例子），难道要全部用3个字节？")]),_._v(" "),e("p",[_._v("所以"),e("code",[_._v("定长存储")]),_._v("是行不通的，那就采用"),e("code",[_._v("变长存储")]),_._v("喽？新的问题又来了，")]),_._v(" "),e("p",[_._v("字符的存储长度不一，那计算机怎么知道识别当前字符要读取一个字节还是两个字节呢？")]),_._v(" "),e("p",[e("code",[_._v("UTF-8")]),_._v("解决了上面两个问题，请记住："),e("strong",[_._v("UTF-8 只是 Unicode 的实现方式之一")])]),_._v(" "),e("h4",{attrs:{id:"_2-utf-8存储"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-utf-8存储"}},[_._v("#")]),_._v(" 2. utf-8存储")]),_._v(" "),e("blockquote",[e("p",[_._v("本节内容直接复制摘抄阮大神的文章")])]),_._v(" "),e("p",[_._v("UTF-8 最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。")]),_._v(" "),e("p",[_._v("UTF-8 的编码规则很简单，只有二条：")]),_._v(" "),e("ol",[e("li",[e("p",[_._v("对于单字节的符号，字节的第一位设为"),e("code",[_._v("0")]),_._v("，后面7位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。")])]),_._v(" "),e("li",[e("p",[_._v("对于"),e("code",[_._v("n")]),_._v("字节的符号（"),e("code",[_._v("n > 1")]),_._v("），第一个字节的前"),e("code",[_._v("n")]),_._v("位都设为"),e("code",[_._v("1")]),_._v("，第"),e("code",[_._v("n + 1")]),_._v("位设为"),e("code",[_._v("0")]),_._v("，后面字节的前两位一律设为"),e("code",[_._v("10")]),_._v("。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。")])])]),_._v(" "),e("p",[_._v("下表总结了编码规则，字母"),e("code",[_._v("x")]),_._v("表示可用编码的位。")]),_._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[_._v("Unicode符号范围     |        UTF-8编码方式\n(十六进制)        |              （二进制）\n----------------------+---------------------------------------------\n0000 0000-0000 007F | 0xxxxxxx\n0000 0080-0000 07FF | 110xxxxx 10xxxxxx\n0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx\n0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br"),e("span",{staticClass:"line-number"},[_._v("2")]),e("br"),e("span",{staticClass:"line-number"},[_._v("3")]),e("br"),e("span",{staticClass:"line-number"},[_._v("4")]),e("br"),e("span",{staticClass:"line-number"},[_._v("5")]),e("br"),e("span",{staticClass:"line-number"},[_._v("6")]),e("br"),e("span",{staticClass:"line-number"},[_._v("7")]),e("br")])]),e("blockquote",[e("p",[e("strong",[_._v("个人理解")]),_._v("：以这张表的第二行为例：")]),_._v(" "),e("p",[_._v("( 0000 0080 - 0000 07FF )这个字符编码范围共表示 (7FF-80)+1 = 1920个字符")]),_._v(" "),e("p",[_._v("( 110x xxxx 10xx xxxx ) 共有11个x，能表示的字符个数总共为 2的11次方 = 2048个符")]),_._v(" "),e("p",[_._v("可能会有疑惑，这不还可以再放一百多个字符么，为什么2个字节的Unicode编码只到"),e("code",[_._v("07FF")]),_._v("呢？")]),_._v(" "),e("p",[_._v("我觉得，这就是个规定而已，从第129个字符开始的1920个字符，规定使用两个字节表示，就这样，没有为什么，所以，其实 ( 110xxxxx 10xxxxxx ) 还剩了些编码没被用上，或者说对于UTF-8来说，那个编码是无效的")])]),_._v(" "),e("p",[_._v("跟据上表，解读 UTF-8 编码非常简单。如果一个字节的第一位是"),e("code",[_._v("0")]),_._v("，则这个字节单独就是一个字符；如果第一位是"),e("code",[_._v("1")]),_._v("，则连续有多少个"),e("code",[_._v("1")]),_._v("，就表示当前字符占用多少个字节。")]),_._v(" "),e("p",[_._v("下面，还是以汉字"),e("code",[_._v("严")]),_._v("为例，演示如何实现 UTF-8 编码。")]),_._v(" "),e("p",[e("code",[_._v("严")]),_._v("的 Unicode 是"),e("code",[_._v("4E25")]),_._v("（"),e("code",[_._v("100111000100101")]),_._v("），根据上表，可以发现"),e("code",[_._v("4E25")]),_._v("处在第三行的范围内（"),e("code",[_._v("0000 0800 - 0000 FFFF")]),_._v("），因此"),e("code",[_._v("严")]),_._v("的 UTF-8 编码需要三个字节，即格式是"),e("code",[_._v("1110xxxx 10xxxxxx 10xxxxxx")]),_._v("。然后，从"),e("code",[_._v("严")]),_._v("的最后一个二进制位开始，依次从后向前填入格式中的"),e("code",[_._v("x")]),_._v("，多出的位补"),e("code",[_._v("0")]),_._v("。这样就得到了，"),e("code",[_._v("严")]),_._v("的 UTF-8 编码是"),e("code",[_._v("11100100 10111000 10100101")]),_._v("，转换成十六进制就是"),e("code",[_._v("E4B8A5")]),_._v("。")])])}),[],!1,null,null,null);v.default=n.exports}}]);