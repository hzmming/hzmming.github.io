(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{667:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"一-github-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-github-pages"}},[s._v("#")]),s._v(" 一 github pages")]),s._v(" "),a("p",[s._v("利用 github 托管静态页面，官网 https://pages.github.com/")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("创建repo，且名称取作 "),a("strong",[a("code",[s._v("<username>")]),s._v(".github.io")]),s._v("，如果被占用，调整 username，但一定要包含自己的用户名")])]),s._v(" "),a("li",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".github.io\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".github.io\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.html\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("访问 "),a("strong",[s._v("https://"),a("code",[s._v("<username>")]),s._v(".github.io")]),s._v("，第一步，静态页面成功部署")])])]),s._v(" "),a("h3",{attrs:{id:"二-使用-vuepress-theme-reco"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-使用-vuepress-theme-reco"}},[s._v("#")]),s._v(" 二 使用 vuepress-theme-reco")]),s._v(" "),a("p",[s._v("vuepress官网 https://vuepress.vuejs.org/zh/")]),s._v(" "),a("p",[s._v("vuepress-theme-reco 官网 https://vuepress-theme-reco.recoluan.com/")]),s._v(" "),a("p",[s._v("vuepress，Vue 驱动的静态网站生成器，写作时采用 markdown，最终编译成可部署的 html。")]),s._v(" "),a("p",[s._v("以 html 部署的优势在于 seo（相比于 docsify 的客户端渲染而言）")]),s._v(" "),a("p",[s._v("vuepress-theme-reco 是基于 vuepress 的一款主题。本身也提供 cli 工具，我就是直接用他的 cli 工具生成的，但我调整了文件夹结构和一点点相关配置，索性直接拉取我的代码就是了^_^")]),s._v(" "),a("p",[s._v("最终项目结构如下（示意）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("\n├── docs\n│   ├── .vuepress\n│   │   ├── config.js\n│   ├── notes\n│   │   ├── JS\n│   │   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\t\t├── js操作class.md\n│   │   ├── CSS\n│   │   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\t\t├── css选择器.md\n│   └── README.md\n├── node_modules\n├── package.json\n├── README.md\n└── yarn.lock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[a("code",[s._v(".vuepress")]),s._v("，存放着整个博客的各种配置，核心文件 "),a("code",[s._v("config.js")])]),s._v(" "),a("li",[a("code",[s._v("notes")]),s._v("，我用于存放笔记的文件夹，其实叫什么都可以")])]),s._v(" "),a("p",[s._v("安装相关依赖并启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# start")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("打开 localhost:8080 查看效果，最终博客效果便是如此")]),s._v(" "),a("h4",{attrs:{id:"vuepress-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-config-js"}},[s._v("#")]),s._v(" .vuepress/config.js")]),s._v(" "),a("p",[s._v("该文件配置了网站布局、标题等各种信息。几个点提下")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 网站标题")]),s._v("\n  title"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Lazy man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 网站描述")]),s._v("\n  description"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  themeConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 网站logo（左上角）")]),s._v("\n    logo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/logo.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 作者名称")]),s._v("\n    author"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LoryHuang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 作者头像")]),s._v("\n    authorAvatar"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/avatar.png"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  markdown"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vuepress 默认只提取 h2和h3，右侧导航树就只会显示这两级，很受限")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置该属性达到显示所有标题")]),s._v("\n    extractHeaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自动生成左侧sidebar")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress-plugin-auto-sidebar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"如何编写文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何编写文章"}},[s._v("#")]),s._v(" 如何编写文章")]),s._v(" "),a("p",[s._v("没有了解 vuepress 和 vuepress-theme-reco，可能会对于网站的 Category 有点懵，这东西哪来的？")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829210807922.png",alt:"image-20200829210807922"}})]),s._v(" "),a("p",[s._v("这个下拉树是取决我笔记的文件夹结构么？"),a("strong",[s._v("并不是")])]),s._v(" "),a("p",[s._v("这个 category 是自动聚合而成的，从每一篇笔记中的 category 属性提取出来，相同 category 则被归为一类，类名即 category值")]),s._v(" "),a("p",[s._v("这就得从笔记的结构说起了，")]),s._v(" "),a("div",{staticClass:"language-markdown line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-markdown"}},[a("code",[a("span",{pre:!0,attrs:{class:"token hr punctuation"}},[s._v("---")]),s._v("\ntitle: js操作class\ndate: 2019-11-01\ntags:\n  "),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" JS\n  "),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" multiTag\ncategories:\n  "),a("span",{pre:!0,attrs:{class:"token title important"}},[s._v("- JS\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")])]),s._v("\n\n内容从这开始 <------\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("每一篇笔记开头一定会有这些信息，官方叫法 "),a("RouterLink",{attrs:{to:"/notes/文档/[https://vuepress.vuejs.org/zh/guide/frontmatter.html#其他格式的-front-matter](https://vuepress.vuejs.org/zh/guide/frontmatter.html#其他格式的-front-matter)"}},[s._v("Front Matter")]),s._v("，")],1),s._v(" "),a("p",[s._v("配置着笔记的"),a("code",[s._v("title 名称")]),s._v("、"),a("code",[s._v("date 时间")]),s._v("、"),a("code",[s._v("tags 标签")]),s._v("、"),a("code",[s._v("categories 分类")]),s._v("等等")]),s._v(" "),a("p",[s._v("这就是导航栏中 Category 内容的由来")]),s._v(" "),a("h4",{attrs:{id:"坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#坑"}},[s._v("#")]),s._v(" 坑")]),s._v(" "),a("p",[s._v("热更新大部分情况失效，页面白屏，浏览器控制台报错，没去管，重启下就是了")]),s._v(" "),a("h3",{attrs:{id:"三-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-部署"}},[s._v("#")]),s._v(" 三 部署")]),s._v(" "),a("p",[s._v("最直接的方式就是本地手动执行"),a("code",[s._v("yarn build")]),s._v("，并上传生成的 dist 代码至 "),a("code",[s._v("<username>")]),s._v(".github.io 仓库。")]),s._v(" "),a("p",[s._v("不过，咱们采用 travis 自动化部署")]),s._v(" "),a("blockquote",[a("p",[s._v("采用 travis 或者 github actions 都行，我只是刚好看到别人使用 travis 就跟着用")])]),s._v(" "),a("h4",{attrs:{id:"_1-配置-travis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置-travis"}},[s._v("#")]),s._v(" 1. 配置 travis")]),s._v(" "),a("p",[s._v("使用 github 账号登录 "),a("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("travis"),a("OutboundLink")],1),s._v("，右上角头像 - Settings")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829203041289.png",alt:"image-20200829203041289"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829203205577.png",alt:"image-20200829203205577"}})]),s._v(" "),a("p",[s._v("往下滚点")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829203625603.png",alt:"image-20200829203625603"}})]),s._v(" "),a("p",[s._v("添加环境变量，需要填一个token，因为需要直接操作 github repo，所以需要添加 github 的 Personal access tokens")]),s._v(" "),a("p",[s._v("从 github 那获取到该 token ，添加，travis 配置结束")]),s._v(" "),a("h4",{attrs:{id:"_2-personal-access-tokens"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-personal-access-tokens"}},[s._v("#")]),s._v(" 2. Personal access tokens")]),s._v(" "),a("p",[s._v("打开 github，右上角头像，Settings")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829203912004.png",alt:"image-20200829203912004"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829203932843.png",alt:"image-20200829203932843"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829204007829.png",alt:"image-20200829204007829"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829204105265.png",alt:"image-20200829204105265"}})]),s._v(" "),a("p",[s._v("滚到页面底部，"),a("code",[s._v("Generate token")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829204400822.png",alt:"image-20200829204400822"}})]),s._v(" "),a("p",[s._v("将这个值用于 travis 最后一步的配置，即可")]),s._v(" "),a("h4",{attrs:{id:"_3-添加-travis-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-添加-travis-yml"}},[s._v("#")]),s._v(" 3. 添加 .travis.yml")]),s._v(" "),a("p",[s._v("这个配置文件，用于告诉 travis 应该做什么，很明显，咱们要告诉它帮咱们 build 并部署")]),s._v(" "),a("p",[s._v("内容如下")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考自：https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages-and-travis-ci")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node_js\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node_js")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" lts/*\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm ci")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn build "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm run docs:build")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("provider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pages\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("skip_cleanup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("local_dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" docs/.vuepress/dist\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("github_token")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $GITHUB_TOKEN "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 GitHub 中生成，用于允许 Travis 向你的仓库推送代码。在 Travis 的项目设置页面进行配置，设置为 secure variable")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("keep_history")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("提交代码，打开 "),a("a",{attrs:{href:"https://travis-ci.org/dashboard",target:"_blank",rel:"noopener noreferrer"}},[s._v("travis dashboard"),a("OutboundLink")],1),s._v("，可以看到构建流程")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829204942659.png",alt:"image-20200829204942659"}})]),s._v(" "),a("h4",{attrs:{id:"_4-指定托管分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-指定托管分支"}},[s._v("#")]),s._v(" 4. 指定托管分支")]),s._v(" "),a("p",[s._v("最开始的 "),a("strong",[s._v("一 github pages")]),s._v("，我们的 repo 默认是以 master 作为托管分支（也就是托管的html页面应存在于 master分支上）。")]),s._v(" "),a("p",[s._v("而 travis 自动构建默认会将代码上传到 "),a("code",[s._v("gh-pages")]),s._v("分支，没有该分支 travis 就会创建它")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829205318978.png",alt:"image-20200829205318978"}})]),s._v(" "),a("p",[s._v("可以看到，travis 自己创建了 gh-pages 分支。")]),s._v(" "),a("p",[s._v("点开项目设置 Settings（位于项目代码上方）")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829205451950.png",alt:"image-20200829205451950"}})]),s._v(" "),a("p",[s._v("往下滚动，找到如图")]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/image-20200829205619205.png",alt:"image-20200829205619205"}})]),s._v(" "),a("p",[s._v("至此，所有配置结束，访问"),a("code",[s._v("<username>")]),s._v(".github.io 已经变成了我们先前本地看过的效果了")]),s._v(" "),a("blockquote",[a("p",[s._v("有时候反应有点慢，等会刷新下就行")])]),s._v(" "),a("h4",{attrs:{id:"_5-触发时机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-触发时机"}},[s._v("#")]),s._v(" 5. 触发时机")]),s._v(" "),a("p",[s._v("默认是 push 代码时触发，也可以改，不过我没这需求，就没研究了，有需要再完善")]),s._v(" "),a("h3",{attrs:{id:"四-同步至gitee"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-同步至gitee"}},[s._v("#")]),s._v(" 四 同步至gitee")])])}),[],!1,null,null,null);t.default=e.exports}}]);